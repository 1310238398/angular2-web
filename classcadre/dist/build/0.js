webpackJsonp([0],{230:function(n,l,e){"use strict";function t(n){return a["ɵvid"](0,[(n()(),a["ɵeld"](0,0,null,null,1,"div",[["class","checkbox-icon"]],[[2,"checkbox-checked",null]],null,null,null,null)),(n()(),a["ɵeld"](1,0,null,null,0,"div",[["class","checkbox-inner"]],null,null,null,null,null)),(n()(),a["ɵeld"](2,0,null,null,2,"button",[["class","item-cover"],["ion-button","item-cover"],["role","checkbox"],["type","button"]],[[8,"id",0],[1,"aria-checked",0],[1,"aria-labelledby",0],[1,"aria-disabled",0]],null,null,I.b,I.a)),a["ɵdid"](3,1097728,null,0,U.a,[[8,"item-cover"],D.a,a.ElementRef,a.Renderer],null,null),(n()(),a["ɵted"](-1,0,[" "]))],null,function(n,l){var e=l.component;n(l,0,0,e._value);n(l,2,0,e.id,e._value,e._labelId,e._disabled)})}function u(n){return a["ɵvid"](0,[(n()(),a["ɵeld"](0,0,null,null,28,"div",[],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["\n        "])),(n()(),a["ɵeld"](2,0,null,null,23,"ion-item",[["class","item item-block"]],null,null,null,y.b,y.a)),a["ɵdid"](3,1097728,null,3,k.a,[R.a,D.a,a.ElementRef,a.Renderer,[2,x.a]],null,null),a["ɵqud"](335544320,1,{contentLabel:0}),a["ɵqud"](603979776,2,{_buttons:1}),a["ɵqud"](603979776,3,{_icons:1}),a["ɵdid"](7,16384,null,0,E.a,[],null,null),(n()(),a["ɵted"](-1,2,["\n          "])),(n()(),a["ɵeld"](9,0,null,0,5,"ion-checkbox",[],[[2,"checkbox-disabled",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==a["ɵnov"](n,10)._click(e)&&t}if("ngModelChange"===l){t=!1!==(n.context.$implicit.checked=e)&&t}return t},t,_)),a["ɵdid"](10,1228800,null,0,F.a,[D.a,R.a,[2,k.a],a.ElementRef,a.Renderer],null,null),a["ɵprd"](1024,null,w.NG_VALUE_ACCESSOR,function(n){return[n]},[F.a]),a["ɵdid"](12,671744,null,0,w.NgModel,[[8,null],[8,null],[8,null],[2,w.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),a["ɵprd"](2048,null,w.NgControl,null,[w.NgModel]),a["ɵdid"](14,16384,null,0,w.NgControlStatus,[w.NgControl],null,null),(n()(),a["ɵted"](-1,2,["\n          "])),(n()(),a["ɵeld"](16,0,null,1,8,"ion-label",[],null,null,null,null,null)),a["ɵdid"](17,16384,[[1,4]],0,A.a,[D.a,a.ElementRef,a.Renderer,[8,null],[8,null],[8,null],[8,null]],null,null),(n()(),a["ɵted"](-1,null,["\n            "])),(n()(),a["ɵeld"](19,0,null,null,1,"p",[["class","username no-line-break"]],null,null,null,null,null)),(n()(),a["ɵted"](20,null,["",""])),(n()(),a["ɵted"](-1,null,["\n            "])),(n()(),a["ɵeld"](22,0,null,null,1,"p",[["class","usercode no-line-break"]],null,null,null,null,null)),(n()(),a["ɵted"](23,null,["","  ",""])),(n()(),a["ɵted"](-1,null,["\n          "])),(n()(),a["ɵted"](-1,2,["\n        "])),(n()(),a["ɵted"](-1,null,["\n        "])),(n()(),a["ɵeld"](27,0,null,null,0,"div",[["class","line"]],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["\n      "]))],function(n,l){n(l,12,0,l.context.$implicit.checked)},function(n,l){n(l,9,0,a["ɵnov"](l,10)._disabled,a["ɵnov"](l,14).ngClassUntouched,a["ɵnov"](l,14).ngClassTouched,a["ɵnov"](l,14).ngClassPristine,a["ɵnov"](l,14).ngClassDirty,a["ɵnov"](l,14).ngClassValid,a["ɵnov"](l,14).ngClassInvalid,a["ɵnov"](l,14).ngClassPending);n(l,20,0,l.context.$implicit.Name);n(l,23,0,l.context.$implicit.UserCode,l.context.$implicit.Political)})}function o(n){return a["ɵvid"](0,[(n()(),a["ɵeld"](0,0,null,null,13,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,M.b,M.a)),a["ɵdid"](1,4374528,null,0,O.a,[D.a,P.a,j.a,a.ElementRef,a.Renderer,S.a,N.a,a.NgZone,[2,L.a],[2,T.a]],null,null),(n()(),a["ɵted"](-1,1,["\n  "])),(n()(),a["ɵeld"](3,0,null,1,9,"div",[["class","info_list"]],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["\n    "])),(n()(),a["ɵeld"](5,0,null,null,6,"ion-list",[],null,null,null,null,null)),a["ɵdid"](6,16384,null,0,V.a,[D.a,a.ElementRef,a.Renderer,P.a,B.m,j.a],null,null),(n()(),a["ɵted"](-1,null,["\n      "])),(n()(),a["ɵand"](16777216,null,null,1,null,u)),a["ɵdid"](9,802816,null,0,q.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),a["ɵted"](-1,null,["\n      "])),(n()(),a["ɵted"](-1,null,["\n    "])),(n()(),a["ɵted"](-1,null,["\n  "])),(n()(),a["ɵted"](-1,1,["\n"])),(n()(),a["ɵted"](-1,null,["\n"])),(n()(),a["ɵeld"](15,0,null,null,11,"ion-footer",[],null,null,null,null,null)),a["ɵdid"](16,16384,null,0,$.a,[D.a,a.ElementRef,a.Renderer,[2,L.a]],null,null),(n()(),a["ɵted"](-1,null,["\n  "])),(n()(),a["ɵeld"](18,0,null,null,7,"ion-toolbar",[["class","toolbar"]],[[2,"statusbar-padding",null]],null,null,z.b,z.a)),a["ɵdid"](19,49152,null,0,W.a,[D.a,a.ElementRef,a.Renderer],null,null),(n()(),a["ɵted"](-1,3,["\n    "])),(n()(),a["ɵeld"](21,0,null,3,2,"button",[["ion-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.saveCadre()&&t}return t},I.b,I.a)),a["ɵdid"](22,1097728,null,0,U.a,[[8,""],D.a,a.ElementRef,a.Renderer],null,null),(n()(),a["ɵted"](-1,0,["确定"])),(n()(),a["ɵted"](-1,3,["\n    "])),(n()(),a["ɵted"](-1,3,["\n  "])),(n()(),a["ɵted"](-1,null,["\n"])),(n()(),a["ɵted"](-1,null,["\n"]))],function(n,l){n(l,9,0,l.component.studentData)},function(n,l){var e=l.component;n(l,0,0,a["ɵnov"](l,1).statusbarPadding,a["ɵnov"](l,1)._hasRefresher);n(l,18,0,a["ɵnov"](l,19)._sbPadding);n(l,21,0,e.submitIng)})}Object.defineProperty(l,"__esModule",{value:!0});var a=e(0),i=(e(7),e(56),e(122)),r=e(231),s=function(){function n(n,l,e,t,u){this.navCtrl=n,this.navParams=l,this.loadingCtrl=e,this.cadreService=t,this.helpUtil=u,this.submitIng=!1,this.classCode="",this.duty="",this.uids="",this.uidsArr=[],this.studentData=[]}return n.prototype.ionViewWillEnter=function(){console.log("ionViewWillEnter")},n.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad")},n.prototype.ionViewDidEnter=function(){antlinker.configTitle({type:"label",title:"班委管理",fail:function(){},success:function(){}}),antlinker.configTitleButton({type:"close",text:"关闭",fail:function(){},success:function(){},trigger:function(){}}),console.log("ionViewDidEnter"),this.classCode=this.navParams.get("classcode")||"",this.duty=this.navParams.get("duty")||"",this.uids=this.navParams.get("uids")||"",!this.uids||(this.uidsArr=this.uids.split(",")),this.classCode&&this.queryClassStudent(this.classCode)},n.prototype.queryClassStudent=function(n){var l=this,e=this.loadingCtrl.create({content:"正在加载数据..."});e.present(),this.cadreService.queryClassStudent(n).then(function(n){e.dismiss(),0===n.FeedbackCode?(l.studentData=n.Data,l.studentData.forEach(function(n){n.checked=!!l.uidsArr.find(function(l){return l===n.IntelUserCode})})):(l.studentData=[],l.helpUtil.toastPop(n.FeedbackText))})},n.prototype.saveCadre=function(){var n=this,l=[];console.log(this.studentData),this.studentData.forEach(function(n){!0===n.checked&&l.push(n.IntelUserCode)}),console.log("selectedUids"+l),this.submitIng=!0,this.cadreService.setClassCadre(this.classCode,this.duty,l.join(",")).then(function(l){0===l.FeedbackCode?(n.helpUtil.toastPop("保存成功"),setTimeout(function(){n.navCtrl.pop()},500)):n.helpUtil.toastPop(l.FeedbackText),n.submitIng=!1}).catch(function(){return n.submitIng=!1})},n}(),d=function(){return function(){}}(),c=e(124),p=e(125),f=e(126),m=e(127),h=e(128),g=e(129),b=e(130),v=e(131),C=e(132),y=e(133),k=e(17),R=e(14),D=e(1),x=e(40),E=e(58),I=e(25),U=e(16),w=e(12),F=e(123),_=a["ɵcrt"]({encapsulation:2,styles:[],data:{}}),A=e(44),M=e(194),O=e(21),P=e(3),j=e(9),S=e(8),N=e(24),L=e(4),T=e(19),V=e(45),B=e(5),q=e(11),$=e(80),z=e(195),W=e(36),G=e(10),K=e(76),J=a["ɵcrt"]({encapsulation:2,styles:[],data:{}}),Z=a["ɵccf"]("page-student",s,function(n){return a["ɵvid"](0,[(n()(),a["ɵeld"](0,0,null,null,1,"page-student",[],null,null,null,o,J)),a["ɵdid"](1,49152,null,0,s,[T.a,G.a,K.a,i.a,r.a],null,null)],null,null)},{},{},[]),H=e(57),Q=e(77),X=e(78),Y=e(79),nn=e(35);e.d(l,"StudentModuleNgFactory",function(){return ln});var ln=a["ɵcmf"](d,[],function(n){return a["ɵmod"]([a["ɵmpd"](512,a.ComponentFactoryResolver,a["ɵCodegenComponentFactoryResolver"],[[8,[c.a,p.a,f.a,m.a,h.a,g.a,b.a,v.a,C.a,Z]],[3,a.ComponentFactoryResolver],a.NgModuleRef]),a["ɵmpd"](4608,q.NgLocalization,q.NgLocaleLocalization,[a.LOCALE_ID,[2,q["ɵa"]]]),a["ɵmpd"](4608,w["ɵi"],w["ɵi"],[]),a["ɵmpd"](4608,w.FormBuilder,w.FormBuilder,[]),a["ɵmpd"](4608,r.a,r.a,[H.a,Q.a,K.a,X.a]),a["ɵmpd"](512,q.CommonModule,q.CommonModule,[]),a["ɵmpd"](512,w["ɵba"],w["ɵba"],[]),a["ɵmpd"](512,w.FormsModule,w.FormsModule,[]),a["ɵmpd"](512,w.ReactiveFormsModule,w.ReactiveFormsModule,[]),a["ɵmpd"](512,Y.a,Y.a,[]),a["ɵmpd"](512,Y.b,Y.b,[]),a["ɵmpd"](512,d,d,[]),a["ɵmpd"](256,nn.a,s,[])])})},231:function(n,l,e){"use strict";e.d(l,"a",function(){return u});e(7),e(56);var t=e(232),u=(e.n(t),function(){function n(n,l,e,t){this.modalCtrl=n,this.alertCtrl=l,this.Loading=e,this.toastCtrl=t}return n.prototype.alert=function(n){this.alertCtrl.create({title:"提示",subTitle:n,buttons:[{text:"确定"}]}).present()},n.prototype.getDays=function(n,l){n=n.replace(/\-/g,"/"),l=l.replace(/\-/g,"/");var e=new Date(n),t=(new Date(l).getTime()-e.getTime())/864e5,u=+t.toString().replace(/^[^\.]+/,"0");return 0==u?Math.floor(t):u>.5?Math.floor(t)+1:Math.floor(t)+.5},n.prototype.getWeekDay=function(n){var l;switch(parseInt(moment(n).format("d"))){case 0:l="周日";break;case 1:l="周一";break;case 2:l="周二";break;case 3:l="周三";break;case 4:l="周四";break;case 5:l="周五";break;case 6:l="周六"}return l},n.prototype.loadingPop=function(n){var l=this.Loading.create({content:n});return l.present(),l},n.prototype.toastPop=function(n){var l=this.toastCtrl.create({message:n,duration:1e3,cssClass:"zj-t-center",position:"bottom"});return l.present(),l},n.prototype.presentAlert=function(n){console.log(n.enableBackdropDismiss);var l=this.alertCtrl.create({title:n.title||"",enableBackdropDismiss:n.enableBackdropDismiss,subTitle:n.subTitle||"",buttons:n.buttons||[]});return l.present(),l},n.prototype.modal=function(n,l){var e=this.modalCtrl.create(n,l);return e.present(),e},n.prototype.compress=function(n,l){var e=document.createElement("img");e.src=n;var t=document.createElement("canvas"),u=e.width,o=e.height,a=t.getContext("2d"),i=u,r=o,s=u,d=o;l=l;t.width=u,t.height=o,a.drawImage(e,0,0,i,r,0,0,s,d),n.length<=204800&&(l=.92);return t.toDataURL("image/jpeg",l)},n.prototype.base64toBlob=function(n){var l;l=n.split(",")[0].indexOf("base64")>=0?atob(n.split(",")[1]):Object(t.unescape)(n.split(",")[1]);for(var e=n.split(",")[0].split(":")[1].split(";")[0],u=new Uint8Array(l.length),o=0;o<l.length;o++)u[o]=l.charCodeAt(o);return new Blob([u],{type:e})},n}())},232:function(n,l,e){"use strict";l.decode=l.parse=e(233),l.encode=l.stringify=e(234)},233:function(n,l,e){"use strict";function t(n,l){return Object.prototype.hasOwnProperty.call(n,l)}n.exports=function(n,l,e,o){l=l||"&",e=e||"=";var a={};if("string"!=typeof n||0===n.length)return a;var i=/\+/g;n=n.split(l);var r=1e3;o&&"number"==typeof o.maxKeys&&(r=o.maxKeys);var s=n.length;r>0&&s>r&&(s=r);for(var d=0;d<s;++d){var c,p,f,m,h=n[d].replace(i,"%20"),g=h.indexOf(e);g>=0?(c=h.substr(0,g),p=h.substr(g+1)):(c=h,p=""),f=decodeURIComponent(c),m=decodeURIComponent(p),t(a,f)?u(a[f])?a[f].push(m):a[f]=[a[f],m]:a[f]=m}return a};var u=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)}},234:function(n,l,e){"use strict";function t(n,l){if(n.map)return n.map(l);for(var e=[],t=0;t<n.length;t++)e.push(l(n[t],t));return e}var u=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}};n.exports=function(n,l,e,i){return l=l||"&",e=e||"=",null===n&&(n=void 0),"object"==typeof n?t(a(n),function(a){var i=encodeURIComponent(u(a))+e;return o(n[a])?t(n[a],function(n){return i+encodeURIComponent(u(n))}).join(l):i+encodeURIComponent(u(n[a]))}).join(l):i?encodeURIComponent(u(i))+e+encodeURIComponent(u(n)):""};var o=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)},a=Object.keys||function(n){var l=[];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&l.push(e);return l}}});