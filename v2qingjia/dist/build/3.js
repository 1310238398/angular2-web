webpackJsonp([3],{243:function(l,n,e){"use strict";function t(l){return u._22(0,[(l()(),u.Z(0,0,null,null,12,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,D.b,D.a)),u.Y(1,4374528,null,0,b.a,[U.a,S.a,L.a,u.j,u.z,N.a,Z.a,u.u,[2,k.a],[2,E.a]],null,null),(l()(),u._20(-1,1,["\n  "])),(l()(),u.Z(3,0,null,1,1,"applyleave-detail",[],null,null,null,C.c,C.b)),u.Y(4,49152,null,0,I.a,[a.a,o.a,P.c],{UserInfo:[0,"UserInfo"],leaveApply:[1,"leaveApply"],applyDate:[2,"applyDate"]},null),(l()(),u._20(-1,1,["\n  "])),(l()(),u.Z(6,0,null,1,5,"div",[["padding",""]],null,null,null,null,null)),(l()(),u._20(-1,null,["\n    "])),(l()(),u.Z(8,0,null,null,2,"button",[["block",""],["ion-button",""]],null,[[null,"click"]],function(l,n,e){var t=!0;if("click"===n){t=!1!==l.component.onLeaveApply()&&t}return t},O.b,O.a)),u.Y(9,1097728,null,0,R.a,[[8,""],U.a,u.j,u.z],{block:[0,"block"]},null),(l()(),u._20(-1,0,["确认并提交"])),(l()(),u._20(-1,null,["\n  "])),(l()(),u._20(-1,1,["\n"])),(l()(),u._20(-1,null,["\n"]))],function(l,n){var e=n.component;l(n,4,0,e.UserInfo,e.leaveApply,e.applyDate);l(n,9,0,"")},function(l,n){l(n,0,0,u._13(n,1).statusbarPadding,u._13(n,1)._hasRefresher)})}Object.defineProperty(n,"__esModule",{value:!0});var u=e(0),a=(e(7),e(70),e(50)),i=e(110),o=e(51),s=e(337),p=function(){function l(l,n,e,t){var u=this;this.http=l,this.navCtrl=n,this.params=e,this.HelpUtils=t,this.applyDate=(new Date).toISOString(),this.UserInfo={Name:"",UserCode:"",AcademyName:"",ClassName:""},this.leaveApply=this.params.get("LeaveApply"),this.http.postJSON({Router:i.a.Url.queryleavestudentmessage,Method:"POST",Body:{TaskCode:""}}).then(function(l){l.FeedbackCode||(u.UserInfo.Name=l.Data.Name,u.UserInfo.UserCode=l.Data.UserCode,u.UserInfo.AcademyName=l.Data.AcademyName,u.UserInfo.ClassName=l.Data.ClassName)})}return l.prototype.ionViewDidEnter=function(){antlinker.configTitle({type:"label",title:"预览",fail:function(){},success:""}),antlinker.configTitleButton({showClose:!0,type:"empty",success:"",fail:function(){}})},l.prototype.ionViewWillLeave=function(){},l.prototype.onLeaveApply=function(){var l=this;this.http.postJSON({Router:i.a.Url.saveApply,Method:"POST",Body:{LeaveReason:this.leaveApply.LeaveReason||"",StartDate:this.leaveApply.StartDate||"",EndDate:this.leaveApply.EndDate||"",StartCourse:parseInt(this.leaveApply.StartCourse),EndCourse:parseInt(this.leaveApply.EndCourse),LeaveType:this.leaveApply.LeaveType.Code||"",OutPlace:this.leaveApply.OutPlace.Code||"",ClassNum:parseInt(this.leaveApply.ClassNum),DetailAddress:this.leaveApply.DetailAddress||"",EmergencyPerson:this.leaveApply.EmergencyPerson||"",EmergencyNumber:this.leaveApply.EmergencyNumber.toString()||"",AttachmentKey:this.leaveApply.AttachmentKey||"",AttachmentCode:this.leaveApply.AttachmentCode||"",RecordId:this.leaveApply.RecordId||"",FlowRecordId:this.leaveApply.FlowRecordId||""}}).then(function(n){n.FeedbackCode?l.HelpUtils.toastPop(""+n.FeedbackText):l.HelpUtils.presentAlert({subTitle:"您的请假申请已提交，请等<br/>待审批。",buttons:[{text:"确定",role:"cancel",handler:function(){l.navCtrl.push(s.a)}}]})})},l.prototype.submit=function(l){var n=this;this.http.postFormData(l,function(l){n.loadingPop.dismiss(),l.FeedbackCode?n.HelpUtils.toastPop(""+l.FeedbackText):n.HelpUtils.presentAlert({subTitle:"您的请假申请已提交，请等<br/>待审批。",buttons:[{text:"确定",role:"cancel",handler:function(){n.navCtrl.push(s.a)}}]})})},l}(),r=e(286),c=function(){return function(){}}(),d=e(187),y=e(188),f=e(189),v=e(190),h=e(191),_=e(192),m=e(193),g=e(194),A=e(195),C=e(310),D=e(257),b=e(21),U=e(1),S=e(3),L=e(9),N=e(8),Z=e(34),k=e(4),E=e(20),I=e(264),P=e(31),O=e(38),R=e(19),F=e(10),T=u.X({encapsulation:2,styles:[],data:{}}),x=u.V("page-leave-apply-detail",p,function(l){return u._22(0,[(l()(),u.Z(0,0,null,null,1,"page-leave-apply-detail",[],null,null,null,t,T)),u.Y(1,49152,null,0,p,[a.a,E.a,F.a,o.a],null,null)],null,null)},{},{},[]),J=e(13),M=e(16),Y=e(255),j=e(111),H=e(35);e.d(n,"LeaveApplyDetailPageModuleNgFactory",function(){return w});var w=u.W(c,[],function(l){return u._10([u._11(512,u.i,u.S,[[8,[d.a,y.a,f.a,v.a,h.a,_.a,m.a,g.a,A.a,C.a,x]],[3,u.i],u.s]),u._11(4608,J.k,J.j,[u.r,[2,J.t]]),u._11(4608,M.t,M.t,[]),u._11(4608,M.d,M.d,[]),u._11(512,Y.a,Y.a,[]),u._11(512,J.b,J.b,[]),u._11(512,M.q,M.q,[]),u._11(512,M.g,M.g,[]),u._11(512,M.o,M.o,[]),u._11(512,j.a,j.a,[]),u._11(512,j.b,j.b,[]),u._11(512,r.a,r.a,[]),u._11(512,c,c,[]),u._11(256,H.a,p,[])])})},255:function(l,n,e){"use strict";e.d(n,"a",function(){return t});e(7),e(256);var t=function(){return function(){}}()},256:function(l,n,e){"use strict";e.d(n,"a",function(){return t});e(7);var t=function(){function l(){}return l.prototype.transform=function(l){if(l)return moment(l).format("YYYY-MM-DD HH:mm")},l}()},257:function(l,n,e){"use strict";function t(l){return u._22(2,[u._18(402653184,1,{_fixedContent:0}),u._18(402653184,2,{_scrollContent:0}),(l()(),u.Z(2,0,[[1,0],["fixedContent",1]],null,1,"div",[["class","fixed-content"]],null,null,null,null,null)),u._12(null,0),(l()(),u.Z(4,0,[[2,0],["scrollContent",1]],null,1,"div",[["class","scroll-content"]],null,null,null,null,null)),u._12(null,1),u._12(null,2)],null,null)}e.d(n,"a",function(){return a}),n.b=t;var u=e(0),a=(e(21),e(1),e(3),e(9),e(34),e(4),e(20),u.X({encapsulation:2,styles:[],data:{}}))},264:function(l,n,e){"use strict";e.d(n,"a",function(){return u});e(7);var t=e(110),u=(e(51),e(50),function(){function l(l,n,e){this.http=l,this.HelpUtils=n,this.DomSanitization=e}return Object.defineProperty(l.prototype,"leaveApply",{get:function(){return this.self_leaveApply},set:function(l){var n=this;if(console.log(l.Evidence),this.LeaveType=this.isJSON(l.LeaveType)?JSON.parse(l.LeaveType):l.LeaveType,this.OutPlace=this.isJSON(l.OutPlace)?JSON.parse(l.OutPlace):l.OutPlace,"string"==typeof l.Evidence)l.Evidence?this.http.postJSON({Router:t.a.Url.QueryLeaveApplicationPhoto,Method:"POST",Body:{Evidence:l.Evidence}}).then(function(l){l.FeedbackCode||(n.filesrc=l.Data.URL,n.imgFlag=!0)}):l.imgURL?(this.filesrc=l.imgURL,this.imgFlag=!0):this.imgFlag=!1;else{"image/png"==l.Evidence.type||"image/jpeg"==l.Evidence.type||"image/jpg"==l.Evidence.type||"image/gif"==l.Evidence.type?this.imgFlag=!0:l.imgURL?(this.filesrc=l.imgURL,this.imgFlag=!0):this.imgFlag=!1;var e=new FileReader;e.onload=function(){n.filesrc=e.result},e.readAsDataURL(l.Evidence)}this.Days=this.HelpUtils.getDays(l.StartDate,l.EndDate),this.StartWeekDay=this.HelpUtils.getWeekDay(l.StartDate),this.EndWeekDay=this.HelpUtils.getWeekDay(l.EndDate),this.self_leaveApply=l},enumerable:!0,configurable:!0}),l.prototype.isJSON=function(l){if("string"==typeof l)try{return JSON.parse(l),!0}catch(l){return!1}},l.prototype.call=function(l,n){l&&antlinker.onTel({tel:l.toString(),text:n,fail:function(){},success:function(){}})},l}())},286:function(l,n,e){"use strict";e.d(n,"a",function(){return t});e(7),e(70),e(264),e(255);var t=function(){return function(){}}()},310:function(l,n,e){"use strict";function t(l){return i._22(0,[(l()(),i.Z(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),i.Z(1,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(l,n){var e=n.component;l(n,1,0,e.DomSanitization.bypassSecurityTrustUrl(e.filesrc))})}function u(l){return i._22(0,[(l()(),i.Z(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),i._20(1,null,["",""]))],null,function(l,n){var e=n.component;l(n,1,0,null==e.leaveApply?null:null==e.leaveApply.Evidence?null:e.leaveApply.Evidence.name)})}function a(l){return i._22(0,[i._14(0,o.a,[]),(l()(),i._20(-1,null,["\n    "])),(l()(),i.Z(2,0,null,null,79,"ion-card",[["padding-bottom",""]],null,null,null,null,null)),i.Y(3,16384,null,0,s.a,[p.a,i.j,i.z],null,null),(l()(),i._20(-1,null,["\n      "])),(l()(),i.Z(5,0,null,null,75,"ion-card-content",[],null,null,null,null,null)),i.Y(6,16384,null,0,r.a,[p.a,i.j,i.z],null,null),(l()(),i._20(-1,null,["\n        "])),(l()(),i.Z(8,0,null,null,71,"div",[],null,null,null,null,null)),(l()(),i._20(-1,null,["\n          "])),(l()(),i.Z(10,0,null,null,1,"div",[["padding-bottom",""]],null,null,null,null,null)),(l()(),i._20(-1,null,["尊敬的老师："])),(l()(),i._20(-1,null,["\n          "])),(l()(),i.Z(13,0,null,null,21,"div",[["class","zj-text-indent"]],null,null,null,null,null)),(l()(),i._20(-1,null,["本人因"])),(l()(),i.Z(15,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),i._20(16,null,["",""])),(l()(),i._20(-1,null,["，需请"])),(l()(),i.Z(18,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),i._20(19,null,["",""])),(l()(),i._20(-1,null,["，从\n            "])),(l()(),i.Z(21,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),i._20(22,null,["","（","）第","节课"])),i._16(23,1),(l()(),i._20(-1,null,["至"])),(l()(),i.Z(25,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),i._20(26,null,["","（","）第","节课"])),i._16(27,1),(l()(),i._20(-1,null,["\n            共计"])),(l()(),i.Z(29,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),i._20(30,null,["",""])),(l()(),i._20(-1,null,["天，不能参加累计"])),(l()(),i.Z(32,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),i._20(33,null,["",""])),(l()(),i._20(-1,null,["节课程的学习。\n          "])),(l()(),i._20(-1,null,["\n          "])),(l()(),i.Z(36,0,null,null,13,"div",[["class","zj-text-indent"]],null,null,null,null,null)),(l()(),i._20(-1,null,["请假期间，本人将去往"])),(l()(),i.Z(38,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),i._20(39,null,["",""])),(l()(),i._20(-1,null,["，\n            详细地址为："])),(l()(),i.Z(41,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),i._20(42,null,["",""])),(l()(),i._20(-1,null,["，联系人："])),(l()(),i.Z(44,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),i._20(45,null,["",""])),(l()(),i._20(-1,null,["，\n            联系电话:"])),(l()(),i.Z(47,0,null,null,1,"span",[["class","line"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;if("click"===n){t=!1!==u.call(u.leaveApply.EmergencyNumber,u.leaveApply.EmergencyPerson)&&t}return t},null,null)),(l()(),i._20(48,null,["",""])),(l()(),i._20(-1,null,["。\n          "])),(l()(),i._20(-1,null,["\n          "])),(l()(),i.Z(51,0,null,null,1,"div",[["class","zj-text-indent"]],null,null,null,null,null)),(l()(),i._20(-1,null,["本人承诺请假期间严格遵守国家法律法规和校纪校规相关规定，\n            不参加任何非法游行、集体活动，一切安全事故责任自负，按时返校销假，请准假！\n          "])),(l()(),i._20(-1,null,["\n          "])),(l()(),i._20(-1,null,["\n\n          "])),(l()(),i.U(16777216,null,null,1,null,t)),i.Y(56,16384,null,0,c.i,[i.I,i.F],{ngIf:[0,"ngIf"]},null),(l()(),i._20(-1,null,["\n          "])),(l()(),i.U(16777216,null,null,1,null,u)),i.Y(59,16384,null,0,c.i,[i.I,i.F],{ngIf:[0,"ngIf"]},null),(l()(),i._20(-1,null,["\n\n          "])),(l()(),i.Z(61,0,null,null,17,"div",[["padding-top",""],["style","float: right"]],null,null,null,null,null)),(l()(),i._20(-1,null,["\n            "])),(l()(),i.Z(63,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),i._20(64,null,["请假人：",""])),(l()(),i._20(-1,null,["\n            "])),(l()(),i.Z(66,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),i._20(67,null,["学院：",""])),(l()(),i._20(-1,null,["\n            "])),(l()(),i.Z(69,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),i._20(70,null,["班级：",""])),(l()(),i._20(-1,null,["\n            "])),(l()(),i.Z(72,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),i._20(73,null,["学号：",""])),(l()(),i._20(-1,null,["\n            "])),(l()(),i.Z(75,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),i._20(76,null,["日期：",""])),i._16(77,1),(l()(),i._20(-1,null,["\n\n          "])),(l()(),i._20(-1,null,["\n        "])),(l()(),i._20(-1,null,["\n\n      "])),(l()(),i._20(-1,null,["\n    "]))],function(l,n){var e=n.component;l(n,56,0,e.imgFlag);l(n,59,0,!e.imgFlag)},function(l,n){var e=n.component;l(n,16,0,e.leaveApply.LeaveReason);l(n,19,0,e.LeaveType.CodeName);l(n,22,0,i._21(n,22,0,l(n,23,0,i._13(n,0),e.leaveApply.StartDate)),e.StartWeekDay,e.leaveApply.StartCourse);l(n,26,0,i._21(n,26,0,l(n,27,0,i._13(n,0),e.leaveApply.EndDate)),e.EndWeekDay,e.leaveApply.EndCourse);l(n,30,0,e.Days);l(n,33,0,e.leaveApply.ClassNum);l(n,39,0,e.OutPlace.CodeName);l(n,42,0,e.leaveApply.DetailAddress);l(n,45,0,e.leaveApply.EmergencyPerson);l(n,48,0,e.leaveApply.EmergencyNumber);l(n,64,0,e.UserInfo.Name);l(n,67,0,e.UserInfo.AcademyName);l(n,70,0,e.UserInfo.ClassName);l(n,73,0,e.UserInfo.UserCode);l(n,76,0,i._21(n,76,0,l(n,77,0,i._13(n,0),e.applyDate)))})}e.d(n,"b",function(){return h}),n.c=a,e.d(n,"a",function(){return _});var i=e(0),o=e(256),s=e(112),p=e(1),r=e(113),c=e(13),d=e(264),y=e(50),f=e(51),v=e(31),h=i.X({encapsulation:0,styles:[".line[_ngcontent-%COMP%] {\n      text-decoration: underline;\n    }"],data:{}}),_=i.V("applyleave-detail",d.a,function(l){return i._22(0,[(l()(),i.Z(0,0,null,null,1,"applyleave-detail",[],null,null,null,a,h)),i.Y(1,49152,null,0,d.a,[y.a,f.a,v.c],null,null)],null,null)},{UserInfo:"UserInfo",leaveApply:"leaveApply",applyDate:"applyDate"},{},[])},337:function(l,n,e){"use strict";e.d(n,"a",function(){return u});e(7),e(50);var t=e(110),u=function(){function l(l){this.http=l,this.items=[],this.myApplyCount=0,this.ResumeLeaveCount=0,this.LeaveApplyPage="LeaveApplyPage",this.ResumeLeaveList="ResumeLeaveListPage",this.MyApply="MyapplyPage",this.isInfo=!1}return l.prototype.ionViewDidEnter=function(){antlinker.configTitle({type:"label",title:"请假",fail:function(){},success:""}),antlinker.configTitleButton({type:"back",text:"",fail:function(){},success:""}),localStorage.removeItem("LeaveApply"),this.getCount()},l.prototype.getCount=function(){var l=this;this.http.postJSON({Router:t.a.Url.queryleavecount,Method:"POST",Body:{}}).then(function(n){n.FeedbackCode||(l.myApplyCount=n.Data.LeaveApplicationCount)}),this.http.postJSON({Router:t.a.Url.QueryFakeLeaveCount,Method:"POST",Body:{}}).then(function(n){n.FeedbackCode||(l.ResumeLeaveCount=n.Data.LeaveApplicationCount)}),this.http.postJSON({Router:t.a.Url.checkremindleave,Method:"POST",Body:{}}).then(function(n){n.FeedbackCode||(l.isInfo=!!n.Data.Leave)})},l.prototype.doRefresh=function(l){this.getCount(),l.complete()},l.prototype.ionViewDidLeave=function(){},l}()}});