webpackJsonp([0],{237:function(n,t,e){"use strict";function l(n){return y._19(0,[(n()(),y.Z(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),y._18(-1,null,["单选"]))],null,null)}function o(n){return y._19(0,[(n()(),y.Z(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),y._18(-1,null,["多选"]))],null,null)}function r(n){return y._19(0,[(n()(),y.Z(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),y._18(-1,null,["填空题"]))],null,null)}function i(n){return y._19(0,[(n()(),y.Z(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),y._18(-1,null,["打分题"]))],null,null)}function u(n){return y._19(0,[(n()(),y.Z(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),y._18(-1,null,["量表题"]))],null,null)}function s(n){return y._19(0,[(n()(),y.Z(0,0,null,null,21,"div",[["margin-bottom",""],["style","position: relative"]],null,null,null,null,null)),(n()(),y._18(-1,null,["\n          "])),(n()(),y.Z(2,0,null,null,15,"ion-item",[["class","item item-block"]],null,null,null,R.b,R.a)),y.Y(3,1097728,null,3,z.a,[Q.a,q.a,y.j,y.z,[2,Y.a]],null,null),y._16(335544320,6,{contentLabel:0}),y._16(603979776,7,{_buttons:1}),y._16(603979776,8,{_icons:1}),y.Y(7,16384,null,0,Z.a,[],null,null),(n()(),y._18(-1,2,["\n            "])),(n()(),y.Z(9,0,null,3,7,"ion-textarea",[["maxlength","100"],["minlength","2"],["placeholder","请输入"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var l=!0;if("ngModelChange"===t){l=!1!==(n.component.otherTextArea=e)&&l}return l},D.b,D.a)),y.Y(10,540672,null,0,B.f,[],{minlength:[0,"minlength"]},null),y.Y(11,540672,null,0,B.e,[],{maxlength:[0,"maxlength"]},null),y._14(1024,null,B.g,function(n,t){return[n,t]},[B.f,B.e]),y.Y(13,671744,null,0,B.k,[[8,null],[2,B.g],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),y._14(2048,null,B.i,null,[B.k]),y.Y(15,16384,null,0,B.j,[B.i],null,null),y.Y(16,5423104,null,0,N.a,[q.a,H.a,Q.a,V.a,y.j,y.z,[2,J.a],[2,z.a],[2,B.i],G.a],{placeholder:[0,"placeholder"]},null),(n()(),y._18(-1,2,["\n          "])),(n()(),y._18(-1,null,["\n          "])),(n()(),y.Z(19,0,null,null,1,"span",[["class","ziNum"]],null,null,null,null,null)),(n()(),y._18(20,null,["","/100"])),(n()(),y._18(-1,null,["\n        "]))],function(n,t){var e=t.component;n(t,10,0,"2");n(t,11,0,"100");n(t,13,0,e.otherTextArea);n(t,16,0,"请输入")},function(n,t){var e=t.component;n(t,9,0,y._11(t,10).minlength?y._11(t,10).minlength:null,y._11(t,11).maxlength?y._11(t,11).maxlength:null,y._11(t,15).ngClassUntouched,y._11(t,15).ngClassTouched,y._11(t,15).ngClassPristine,y._11(t,15).ngClassDirty,y._11(t,15).ngClassValid,y._11(t,15).ngClassInvalid,y._11(t,15).ngClassPending);n(t,20,0,e.otherTextArea.length)})}function a(n){return y._19(0,[(n()(),y.Z(0,0,null,null,23,"div",[],null,null,null,null,null)),(n()(),y._18(-1,null,["\n        "])),(n()(),y.Z(2,0,null,null,17,"ion-item",[["class","item item-block"]],null,null,null,R.b,R.a)),y.Y(3,1097728,null,3,z.a,[Q.a,q.a,y.j,y.z,[2,Y.a]],null,null),y._16(335544320,3,{contentLabel:0}),y._16(603979776,4,{_buttons:1}),y._16(603979776,5,{_icons:1}),y.Y(7,16384,null,0,Z.a,[],null,null),(n()(),y._18(-1,2,["\n          "])),(n()(),y.Z(9,0,null,1,2,"ion-label",[["text-wrap",""]],null,[[null,"click"]],function(n,t,e){var l=!0,o=n.component;if("click"===t){l=!1!==o.updateRadio(o.QuestionList[o.QuestionIndex],n.context.$implicit.record_id)&&l}return l},null,null)),y.Y(10,16384,[[3,4]],0,W.a,[q.a,y.j,y.z,[8,null],[8,null],[8,null],[8,null]],null,null),(n()(),y._18(11,null,["","\n          "])),(n()(),y._18(-1,2,["\n          "])),(n()(),y.Z(13,0,null,0,5,"ion-checkbox",[],[[2,"checkbox-disabled",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"click"],[null,"ngModelChange"]],function(n,t,e){var l=!0,o=n.component;if("click"===t){l=!1!==y._11(n,14)._click(e)&&l}if("click"===t){l=!1!==o.updateRadio(o.QuestionList[o.QuestionIndex],n.context.$implicit.record_id)&&l}if("ngModelChange"===t){l=!1!==(n.context.$implicit.checked=e)&&l}return l},X.b,X.a)),y.Y(14,1228800,null,0,K.a,[q.a,Q.a,[2,z.a],y.j,y.z],{mode:[0,"mode"]},null),y._14(1024,null,B.h,function(n){return[n]},[K.a]),y.Y(16,671744,null,0,B.k,[[8,null],[8,null],[8,null],[2,B.h]],{model:[0,"model"]},{update:"ngModelChange"}),y._14(2048,null,B.i,null,[B.k]),y.Y(18,16384,null,0,B.j,[B.i],null,null),(n()(),y._18(-1,2,["\n        "])),(n()(),y._18(-1,null,["\n        "])),(n()(),y.U(16777216,null,null,1,null,s)),y.Y(22,16384,null,0,nn.i,[y.I,y.F],{ngIf:[0,"ngIf"]},null),(n()(),y._18(-1,null,["\n\n      "]))],function(n,t){var e=t.component;n(t,14,0,1==e.QuestionList[e.QuestionIndex].type?"ios":"md");n(t,16,0,t.context.$implicit.checked);n(t,22,0,1===t.context.$implicit.is_other&&t.context.$implicit.checked)},function(n,t){n(t,11,0,t.context.$implicit.name);n(t,13,0,y._11(t,14)._disabled,y._11(t,18).ngClassUntouched,y._11(t,18).ngClassTouched,y._11(t,18).ngClassPristine,y._11(t,18).ngClassDirty,y._11(t,18).ngClassValid,y._11(t,18).ngClassInvalid,y._11(t,18).ngClassPending)})}function c(n){return y._19(0,[(n()(),y.Z(0,0,null,null,5,"ion-list",[],null,null,null,null,null)),y.Y(1,16384,null,0,tn.a,[q.a,y.j,y.z,H.a,en.l,G.a],null,null),(n()(),y._18(-1,null,["\n      "])),(n()(),y.U(16777216,null,null,1,null,a)),y.Y(4,802816,null,0,nn.h,[y.I,y.F,y.p],{ngForOf:[0,"ngForOf"]},null),(n()(),y._18(-1,null,["\n    "]))],function(n,t){var e=t.component;n(t,4,0,e.QuestionList[e.QuestionIndex].options)},null)}function f(n){return y._19(0,[(n()(),y.Z(0,0,null,null,22,"ion-list",[["style","position: relative"]],null,null,null,null,null)),y.Y(1,16384,null,0,tn.a,[q.a,y.j,y.z,H.a,en.l,G.a],null,null),(n()(),y._18(-1,null,["\n      "])),(n()(),y.Z(3,0,null,null,15,"ion-item",[["class","item item-block"],["style","padding-left: 8px"]],null,null,null,R.b,R.a)),y.Y(4,1097728,null,3,z.a,[Q.a,q.a,y.j,y.z,[2,Y.a]],null,null),y._16(335544320,9,{contentLabel:0}),y._16(603979776,10,{_buttons:1}),y._16(603979776,11,{_icons:1}),y.Y(8,16384,null,0,Z.a,[],null,null),(n()(),y._18(-1,2,["\n        "])),(n()(),y.Z(10,0,null,3,7,"ion-textarea",[["maxlength","100"],["minlength","2"],["placeholder","请输入"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var l=!0;if("ngModelChange"===t){l=!1!==(n.component.textArea=e)&&l}return l},D.b,D.a)),y.Y(11,540672,null,0,B.f,[],{minlength:[0,"minlength"]},null),y.Y(12,540672,null,0,B.e,[],{maxlength:[0,"maxlength"]},null),y._14(1024,null,B.g,function(n,t){return[n,t]},[B.f,B.e]),y.Y(14,671744,null,0,B.k,[[8,null],[2,B.g],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),y._14(2048,null,B.i,null,[B.k]),y.Y(16,16384,null,0,B.j,[B.i],null,null),y.Y(17,5423104,null,0,N.a,[q.a,H.a,Q.a,V.a,y.j,y.z,[2,J.a],[2,z.a],[2,B.i],G.a],{placeholder:[0,"placeholder"]},null),(n()(),y._18(-1,2,["\n      "])),(n()(),y._18(-1,null,["\n      "])),(n()(),y.Z(20,0,null,null,1,"span",[["class","ziNum"]],null,null,null,null,null)),(n()(),y._18(21,null,["","/100"])),(n()(),y._18(-1,null,["\n    "]))],function(n,t){var e=t.component;n(t,11,0,"2");n(t,12,0,"100");n(t,14,0,e.textArea);n(t,17,0,"请输入")},function(n,t){var e=t.component;n(t,10,0,y._11(t,11).minlength?y._11(t,11).minlength:null,y._11(t,12).maxlength?y._11(t,12).maxlength:null,y._11(t,16).ngClassUntouched,y._11(t,16).ngClassTouched,y._11(t,16).ngClassPristine,y._11(t,16).ngClassDirty,y._11(t,16).ngClassValid,y._11(t,16).ngClassInvalid,y._11(t,16).ngClassPending);n(t,21,0,e.textArea.length)})}function p(n){return y._19(0,[(n()(),y.Z(0,0,null,null,1,"div",[["class","score-title"]],null,null,null,null,null)),(n()(),y._18(1,null,["\n        ","\n      "]))],null,function(n,t){n(t,1,0,t.context.$implicit.name)})}function h(n){return y._19(0,[(n()(),y.Z(0,0,null,null,37,"div",[],null,null,null,null,null)),(n()(),y._18(-1,null,["\n      "])),(n()(),y.U(16777216,null,null,1,null,p)),y.Y(3,802816,null,0,nn.h,[y.I,y.F,y.p],{ngForOf:[0,"ngForOf"]},null),(n()(),y._18(-1,null,["\n      "])),(n()(),y.Z(5,0,null,null,8,"div",[["class","score"]],null,null,null,null,null)),(n()(),y._18(-1,null,["\n        打分: "])),(n()(),y.Z(7,0,null,null,5,"input",[["name","fname"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0,o=n.component;if("input"===t){l=!1!==y._11(n,8)._handleInput(e.target.value)&&l}if("blur"===t){l=!1!==y._11(n,8).onTouched()&&l}if("compositionstart"===t){l=!1!==y._11(n,8)._compositionStart()&&l}if("compositionend"===t){l=!1!==y._11(n,8)._compositionEnd(e.target.value)&&l}if("ngModelChange"===t){l=!1!==(o.score=e)&&l}return l},null,null)),y.Y(8,16384,null,0,B.b,[y.A,y.j,[2,B.a]],null,null),y._14(1024,null,B.h,function(n){return[n]},[B.b]),y.Y(10,671744,null,0,B.k,[[8,null],[8,null],[8,null],[2,B.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),y._14(2048,null,B.i,null,[B.k]),y.Y(12,16384,null,0,B.j,[B.i],null,null),(n()(),y._18(-1,null,["\n      "])),(n()(),y._18(-1,null,["\n      "])),(n()(),y.Z(15,0,null,null,21,"div",[["style","position: relative"]],null,null,null,null,null)),(n()(),y._18(-1,null,["\n        "])),(n()(),y.Z(17,0,null,null,15,"ion-item",[["class","item item-block"],["style","padding-left: 8px"]],null,null,null,R.b,R.a)),y.Y(18,1097728,null,3,z.a,[Q.a,q.a,y.j,y.z,[2,Y.a]],null,null),y._16(335544320,12,{contentLabel:0}),y._16(603979776,13,{_buttons:1}),y._16(603979776,14,{_icons:1}),y.Y(22,16384,null,0,Z.a,[],null,null),(n()(),y._18(-1,2,["\n          "])),(n()(),y.Z(24,0,null,3,7,"ion-textarea",[["maxlength","100"],["minlength","2"],["placeholder","请输入"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var l=!0;if("ngModelChange"===t){l=!1!==(n.component.textArea=e)&&l}return l},D.b,D.a)),y.Y(25,540672,null,0,B.f,[],{minlength:[0,"minlength"]},null),y.Y(26,540672,null,0,B.e,[],{maxlength:[0,"maxlength"]},null),y._14(1024,null,B.g,function(n,t){return[n,t]},[B.f,B.e]),y.Y(28,671744,null,0,B.k,[[8,null],[2,B.g],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),y._14(2048,null,B.i,null,[B.k]),y.Y(30,16384,null,0,B.j,[B.i],null,null),y.Y(31,5423104,null,0,N.a,[q.a,H.a,Q.a,V.a,y.j,y.z,[2,J.a],[2,z.a],[2,B.i],G.a],{placeholder:[0,"placeholder"]},null),(n()(),y._18(-1,2,["\n        "])),(n()(),y._18(-1,null,["\n        "])),(n()(),y.Z(34,0,null,null,1,"span",[["class","ziNum"]],null,null,null,null,null)),(n()(),y._18(35,null,["","/100"])),(n()(),y._18(-1,null,["\n      "])),(n()(),y._18(-1,null,["\n\n    "]))],function(n,t){var e=t.component;n(t,3,0,e.QuestionList[e.QuestionIndex].options);n(t,10,0,"fname",e.score);n(t,25,0,"2");n(t,26,0,"100");n(t,28,0,e.textArea);n(t,31,0,"请输入")},function(n,t){var e=t.component;n(t,7,0,y._11(t,12).ngClassUntouched,y._11(t,12).ngClassTouched,y._11(t,12).ngClassPristine,y._11(t,12).ngClassDirty,y._11(t,12).ngClassValid,y._11(t,12).ngClassInvalid,y._11(t,12).ngClassPending);n(t,24,0,y._11(t,25).minlength?y._11(t,25).minlength:null,y._11(t,26).maxlength?y._11(t,26).maxlength:null,y._11(t,30).ngClassUntouched,y._11(t,30).ngClassTouched,y._11(t,30).ngClassPristine,y._11(t,30).ngClassDirty,y._11(t,30).ngClassValid,y._11(t,30).ngClassInvalid,y._11(t,30).ngClassPending);n(t,35,0,e.textArea.length||0)})}function d(n){return y._19(0,[(n()(),y.Z(0,0,null,null,13,"ion-list",[["style","position: relative"]],null,null,null,null,null)),y.Y(1,16384,null,0,tn.a,[q.a,y.j,y.z,H.a,en.l,G.a],null,null),(n()(),y._18(-1,null,["\n      "])),(n()(),y.Z(3,0,null,null,9,"ion-item",[["class","item item-block"],["style","padding-left: 8px"]],null,null,null,R.b,R.a)),y.Y(4,1097728,null,3,z.a,[Q.a,q.a,y.j,y.z,[2,Y.a]],null,null),y._16(335544320,15,{contentLabel:0}),y._16(603979776,16,{_buttons:1}),y._16(603979776,17,{_icons:1}),y.Y(8,16384,null,0,Z.a,[],null,null),(n()(),y._18(-1,2,["\n        "])),(n()(),y.Z(10,0,null,2,0,"span",[["class","my-rating"]],null,null,null,null,null)),(n()(),y._18(-1,2,["\n        "])),(n()(),y._18(12,2,["\n        ","\n      "])),(n()(),y._18(-1,null,["\n    "]))],null,function(n,t){n(t,12,0,t.component.rate)})}function g(n){return y._19(0,[(n()(),y.Z(0,0,null,null,47,"ion-card",[],null,null,null,null,null)),y.Y(1,16384,null,0,ln.a,[q.a,y.j,y.z],null,null),(n()(),y._18(-1,null,["\n  "])),(n()(),y._18(-1,null,["\n    "])),(n()(),y.Z(4,0,null,null,4,"div",[["class","di"]],null,null,null,null,null)),(n()(),y._18(-1,null,["\n      "])),(n()(),y.Z(6,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),y._18(7,null,["","/",""])),(n()(),y._18(-1,null,["\n    "])),(n()(),y._18(-1,null,["\n    "])),(n()(),y.Z(10,0,null,null,1,"div",[["class","title"],["text-center",""]],null,null,null,null,null)),(n()(),y._18(11,null,["",""])),(n()(),y._18(-1,null,["\n    "])),(n()(),y.Z(13,0,null,null,17,"div",[["class","qustitle"]],null,null,null,null,null)),(n()(),y._18(-1,null,["\n      "])),(n()(),y._18(-1,null,["\n      "])),(n()(),y.U(16777216,null,null,1,null,l)),y.Y(17,16384,null,0,nn.i,[y.I,y.F],{ngIf:[0,"ngIf"]},null),(n()(),y._18(-1,null,["\n      "])),(n()(),y.U(16777216,null,null,1,null,o)),y.Y(20,16384,null,0,nn.i,[y.I,y.F],{ngIf:[0,"ngIf"]},null),(n()(),y._18(-1,null,["\n      "])),(n()(),y.U(16777216,null,null,1,null,r)),y.Y(23,16384,null,0,nn.i,[y.I,y.F],{ngIf:[0,"ngIf"]},null),(n()(),y._18(-1,null,["\n      "])),(n()(),y.U(16777216,null,null,1,null,i)),y.Y(26,16384,null,0,nn.i,[y.I,y.F],{ngIf:[0,"ngIf"]},null),(n()(),y._18(-1,null,["\n      "])),(n()(),y.U(16777216,null,null,1,null,u)),y.Y(29,16384,null,0,nn.i,[y.I,y.F],{ngIf:[0,"ngIf"]},null),(n()(),y._18(30,null,["\n      ：","\n    "])),(n()(),y._18(-1,null,["\n    "])),(n()(),y._18(-1,null,["\n    "])),(n()(),y.U(16777216,null,null,1,null,c)),y.Y(34,16384,null,0,nn.i,[y.I,y.F],{ngIf:[0,"ngIf"]},null),(n()(),y._18(-1,null,["\n    "])),(n()(),y._18(-1,null,["\n    "])),(n()(),y.U(16777216,null,null,1,null,f)),y.Y(38,16384,null,0,nn.i,[y.I,y.F],{ngIf:[0,"ngIf"]},null),(n()(),y._18(-1,null,["\n    "])),(n()(),y._18(-1,null,["\n    "])),(n()(),y.U(16777216,null,null,1,null,h)),y.Y(42,16384,null,0,nn.i,[y.I,y.F],{ngIf:[0,"ngIf"]},null),(n()(),y._18(-1,null,["\n    "])),(n()(),y._18(-1,null,["\n    "])),(n()(),y.U(16777216,null,null,1,null,d)),y.Y(46,16384,null,0,nn.i,[y.I,y.F],{ngIf:[0,"ngIf"]},null),(n()(),y._18(-1,null,["\n\n  "]))],function(n,t){var e=t.component;n(t,17,0,1==e.QuestionList[e.QuestionIndex].type);n(t,20,0,2==e.QuestionList[e.QuestionIndex].type);n(t,23,0,3==e.QuestionList[e.QuestionIndex].type);n(t,26,0,4==e.QuestionList[e.QuestionIndex].type);n(t,29,0,5==e.QuestionList[e.QuestionIndex].type);n(t,34,0,1==e.QuestionList[e.QuestionIndex].type||2==e.QuestionList[e.QuestionIndex].type);n(t,38,0,3==e.QuestionList[e.QuestionIndex].type);n(t,42,0,4==e.QuestionList[e.QuestionIndex].type);n(t,46,0,5==e.QuestionList[e.QuestionIndex].type)},function(n,t){var e=t.component;n(t,7,0,e.QuestionIndex+1,e.QuestionList.length);n(t,11,0,e.WenjuanName||"蚁动问卷");n(t,30,0,e.QuestionList[e.QuestionIndex].name)})}function m(n){return y._19(0,[(n()(),y.Z(0,0,null,null,9,"div",[["class","Certify"]],null,null,null,null,null)),y.Y(1,278528,null,0,nn.g,[y.p,y.q,y.j,y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),y._13(2,{mtimg:0}),(n()(),y._18(-1,null,["\n      "])),(n()(),y.Z(4,0,null,null,2,"span",[["class","delete"]],null,null,null,null,null)),(n()(),y.Z(5,0,null,null,1,"ion-icon",[["class","delete-icon"],["ios","ios-close-outline"],["md","close"],["role","img"]],[[2,"hide",null]],[[null,"click"]],function(n,t,e){var l=!0;if("click"===t){l=!1!==n.component.deleteCertify(e,n.context.index)&&l}return l},null,null)),y.Y(6,147456,null,0,on.a,[q.a,y.j,y.z],{ios:[0,"ios"],md:[1,"md"]},null),(n()(),y._18(-1,null,["\n          "])),(n()(),y.Z(8,0,null,null,0,"img",[],[[8,"src",4]],[[null,"click"]],function(n,t,e){var l=!0,o=n.component;if("click"===t){l=!1!==o.navPreview({time:!1,index:n.context.index,items:o.CertifyImgs})&&l}return l},null,null)),(n()(),y._18(-1,null,["\n        "]))],function(n,t){n(t,1,0,"Certify",n(t,2,0,0==t.context.index&&t.component.CertifyImgs.length<9));n(t,6,0,"ios-close-outline","close")},function(n,t){var e=t.component;n(t,5,0,y._11(t,6)._hidden);n(t,8,0,e.DomSanitizer.bypassSecurityTrustUrl(t.context.$implicit.url))})}function v(n){return y._19(0,[(n()(),y.Z(0,0,null,null,8,"span",[["id","container"]],null,null,null,null,null)),(n()(),y._18(-1,null,["\n      "])),(n()(),y.Z(2,0,null,null,5,"div",[["class","add"]],null,null,null,null,null)),(n()(),y._18(-1,null,["\n            "])),(n()(),y.Z(4,0,null,null,0,"input",[["class","hiddenFile"],["type","file"],["value","file"]],null,[[null,"change"]],function(n,t,e){var l=!0;if("change"===t){l=!1!==n.component.handleFiles(e)&&l}return l},null,null)),(n()(),y._18(-1,null,["\n     "])),(n()(),y.Z(6,0,null,null,0,"img",[["src","assets/imgs/add.png"]],null,null,null,null,null)),(n()(),y._18(-1,null,["\n      "])),(n()(),y._18(-1,null,["\n  "]))],null,null)}function _(n){return y._19(0,[y._16(402653184,1,{navBar:0}),y._16(402653184,2,{browse_button:0}),(n()(),y.Z(2,0,null,null,46,"ion-content",[["swipe-vertical",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],[[null,"swipe"],[null,"onSwipeUp"],[null,"onSwipeDown"]],function(n,t,e){var l=!0,o=n.component;if("swipe"===t){l=!1!==o.swipeEvent(e)&&l}if("onSwipeUp"===t){l=!1!==o.onSwipeUp(e)&&l}if("onSwipeDown"===t){l=!1!==o.onSwipeDown(e)&&l}return l},rn.b,rn.a)),y.Y(3,4374528,null,0,J.a,[q.a,H.a,G.a,y.j,y.z,V.a,un.a,y.u,[2,sn.a],[2,an.a]],null,null),(n()(),y._18(-1,1,["\n  "])),(n()(),y.U(16777216,null,1,1,null,g)),y.Y(6,16384,null,0,nn.i,[y.I,y.F],{ngIf:[0,"ngIf"]},null),(n()(),y._18(-1,1,["\n  "])),(n()(),y.Z(8,0,null,1,22,"div",[],null,null,null,null,null)),y.Y(9,278528,null,0,nn.g,[y.p,y.q,y.j,y.A],{ngClass:[0,"ngClass"]},null),y._13(10,{none:0}),(n()(),y._18(-1,null,["\n    "])),(n()(),y.Z(12,0,null,null,1,"div",[["class","cailiao"],["padding-left",""]],null,null,null,null,null)),(n()(),y._18(-1,null,["\n      请上传xxxx、xxxx等材料的照片\n    "])),(n()(),y._18(-1,null,["\n    "])),(n()(),y.Z(15,0,null,null,14,"ion-card",[],null,null,null,null,null)),y.Y(16,16384,null,0,ln.a,[q.a,y.j,y.z],null,null),(n()(),y._18(-1,null,["\n      "])),(n()(),y._18(-1,null,["\n      "])),(n()(),y.Z(19,0,[[2,0],["b_button",1]],null,9,"div",[["class","upload"]],null,null,null,null,null)),(n()(),y._18(-1,null,["\n        "])),(n()(),y.U(16777216,null,null,1,null,m)),y.Y(22,802816,null,0,nn.h,[y.I,y.F,y.p],{ngForOf:[0,"ngForOf"]},null),(n()(),y._18(-1,null,["\n        "])),(n()(),y.U(16777216,null,null,1,null,v)),y.Y(25,16384,null,0,nn.i,[y.I,y.F],{ngIf:[0,"ngIf"]},null),(n()(),y._18(-1,null,["\n        "])),(n()(),y.Z(27,0,null,null,0,"div",[["class","clear"]],null,null,null,null,null)),(n()(),y._18(-1,null,["\n      "])),(n()(),y._18(-1,null,["\n    "])),(n()(),y._18(-1,null,["\n  "])),(n()(),y._18(-1,1,["\n\n  "])),(n()(),y.Z(32,0,null,1,15,"div",[["class","btns"]],null,null,null,null,null)),(n()(),y._18(-1,null,["\n    "])),(n()(),y.Z(34,0,null,null,4,"button",[["color","zj-main-color"],["icon-left",""],["ion-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0,o=n.component;if("click"===t){l=!1!==o.onPrivious(o.QuestionList[o.QuestionIndex])&&l}return l},cn.b,cn.a)),y.Y(35,278528,null,0,nn.g,[y.p,y.q,y.j,y.A],{ngClass:[0,"ngClass"]},null),y._13(36,{disable:0}),y.Y(37,1097728,null,0,fn.a,[[8,""],q.a,y.j,y.z],{color:[0,"color"]},null),(n()(),y._18(-1,0,["上一题\n    "])),(n()(),y._18(-1,null,["\n    "])),(n()(),y.Z(40,0,null,null,2,"button",[["color","zj-main-color"],["icon-right",""],["ion-button",""]],[[8,"hidden",0]],[[null,"click"]],function(n,t,e){var l=!0,o=n.component;if("click"===t){l=!1!==o.onNext(o.QuestionList[o.QuestionIndex])&&l}return l},cn.b,cn.a)),y.Y(41,1097728,null,0,fn.a,[[8,""],q.a,y.j,y.z],{color:[0,"color"]},null),(n()(),y._18(-1,0,["下一题\n    "])),(n()(),y._18(-1,null,["\n    "])),(n()(),y.Z(44,0,null,null,2,"button",[["color","zj-main-color"],["icon-right",""],["ion-button",""]],[[8,"hidden",0]],[[null,"click"]],function(n,t,e){var l=!0,o=n.component;if("click"===t){l=!1!==o.onFinish(o.QuestionList[o.QuestionIndex])&&l}return l},cn.b,cn.a)),y.Y(45,1097728,null,0,fn.a,[[8,""],q.a,y.j,y.z],{color:[0,"color"]},null),(n()(),y._18(-1,0,["完成\n    "])),(n()(),y._18(-1,null,["\n\n  "])),(n()(),y._18(-1,1,["\n\n\n"])),(n()(),y._18(-1,null,["\n"]))],function(n,t){var e=t.component;n(t,6,0,e.QuestionList.length);n(t,9,0,n(t,10,0,!e.QuestionList.length||1!=e.QuestionList[e.QuestionIndex].is_attach));n(t,22,0,e.CertifyImgs);n(t,25,0,e.CertifyImgs.length<9);n(t,35,0,n(t,36,0,0==e.QuestionIndex));n(t,37,0,"zj-main-color");n(t,41,0,"zj-main-color");n(t,45,0,"zj-main-color")},function(n,t){var e=t.component;n(t,2,0,y._11(t,3).statusbarPadding,y._11(t,3)._hasRefresher);n(t,34,0,0==e.QuestionIndex);n(t,40,0,e.QuestionIndex+1==e.QuestionList.length);n(t,44,0,e.QuestionIndex+1!=e.QuestionList.length)})}Object.defineProperty(t,"__esModule",{value:!0});var y=e(0),x=(e(5),e(108),e(68)),b=e(195),w=e(109),I=e(31),k=e(113),C=e(242),S=function(){function n(n,t,e,l,o,r,i){var u=this;this.DomSanitizer=n,this.HelpUtils=t,this.loadingCtrl=e,this.questionService=l,this.http=o,this.navCtrl=r,this.navParams=i,this.CertifyImgs=[],this.Certify={AttachmentKey:"",AttachmentCode:""},this.QuestionList=[],this.QuestionIndex=0,this.textArea="",this.otherTextArea="",this.score="",this.answer={option_result:"",option_id:"",text_result:"",attachs:[]},this.record_id=this.navParams.get("record_id"),this.WenjuanName=this.questionService.getWenjuanName(),this.QuestionList=this.questionService.getQuestionList(),this.QuestionIndex=this.questionService.getQuestIndex(),console.log("全部问卷:",this.QuestionList),console.log("当前位置",this.QuestionIndex),console.log(this.QuestionList[this.QuestionIndex]),this.http.postJSON({Router:"/api/questionnaire/getoption",Method:"POST",Body:{topic_id:this.QuestionList[this.QuestionIndex].record_id,bu_type:"wenjuan",bu_id:""}}).then(function(n){console.log(n),u.answer=n.Data||{};var t=u.QuestionList[u.QuestionIndex];if(1==t.type||2==t.type){var e=t.options;console.log("question.options",t.options);var l=u.answer.option_id.split(",");console.log("option_result",l),l&&l.length&&e.forEach(function(n){n.checked=!1,l.map(function(t){n.record_id==t&&(n.checked=!0,u.answer.text_result&&(n.is_other=!0,u.otherTextArea=u.answer.text_result))})})}3==t.type&&(u.textArea=u.answer.text_result),4==t.type&&(u.score=u.answer.option_result),5==t.type&&(u.rate=u.answer.option_result),u.answer.attachs.length&&(u.answer.attachs.forEach(function(n){n.url=n.path+"&imageView2/2/w/150/h/200/interlace/0/q/100",n.path=n.key}),(o=u.CertifyImgs).push.apply(o,u.answer.attachs));var o})}return n.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad QuestionPage")},n.prototype.ionViewDidEnter=function(){antlinker.configTitle({type:"label",title:"调查问卷",fail:function(){},success:""}),antlinker.configTitleButton({showClose:!0,type:"empty",success:"",fail:function(){}})},n.prototype.getFileExtension=function(n){return n.slice(2+(n.lastIndexOf(".")-1>>>0))},n.prototype.deleteCertify=function(n,t){console.log(n),this.CertifyImgs.splice(t,1),n.stopPropagation()},n.prototype.ngAfterViewInit=function(){var n=this;console.log(this.browse_button.nativeElement.class),setTimeout(function(){$(".my-rating").starRating({initialRating:n.rate/2,disableAfterRate:!1,onHover:function(t,e,l){n.rate=2*t},onLeave:function(t,e,l){n.rate=2*t}})},200)},n.prototype.navPreview=function(n){this.navCtrl.push("PreviewPage",n)},n.prototype.upload=function(n){this.fileLoading=this.HelpUtils.loadingPop("正在上传，请稍等..."),console.log("file:",n);var t=this;C.upload(n.file,n.key,n.token,{mimeType:["image/png","image/jpeg","image/jpg","image/gif"]},{useCdnDomain:!0}).subscribe({next:function(n){console.log(n)},error:function(n){t.HelpUtils.toastPop(n.message),console.log(n)},complete:function(e){var l=n.file;t.fileLoading.dismiss(),console.log("obj.file",l),t.http.postJSON({Router:b.a.Url.saveAttach,Method:"POST",Body:{BizType:"QuestionWenjuan",AttachmentItemName:l.name||"",AttachmentItemType:l.type,AttachmentItemSize:l.size.toString(),AttachmentURL:e.key}}).then(function(n){n.Data.RecordID&&t.CertifyImgs.push({RecordID:n.Data.RecordID,url:window.URL.createObjectURL(l),path:e.key,name:l.name||"",ext:l.type,size:l.size.toString()}),console.log(e)})}})},n.prototype.handleFiles=function(n){var t=this;console.log(n);var e=n.target.files[0];e.size>5242880?this.HelpUtils.toastPop("文件大小限制:5M"):this.http.postJSON({Router:b.a.Url.getUpToken,Method:"POST",Body:{Name:e.name,Size:e.size,BizType:"wenjuan"}}).then(function(n){console.log(n),t.upload({file:e,key:n.Data.Key,token:n.Data.Proof})})},n.prototype.updateRadio=function(n,t){if(1==n.type){console.log("type:1",n);for(var e=0,l=n.options;e<l.length;e++){var o=l[e];o.record_id!=t&&(console.log("type:1",o),o.checked=!1)}}},n.prototype.onPrivious=function(n){this.navCtrl.canGoBack()&&(0!=this.QuestionIndex&&this.questionService.reduceQuestionIndex(),this.navCtrl.push("QuestionPage",{record_id:n.record_id}).then(function(n){}))},n.prototype.deal=function(n){var t=this,e={topic_id:n.record_id,option_result:"",text_result:"",option_id:"",bu_type:"wenjuan",bu_id:"",attachs:[]};if(1==n.type||2==n.type){var l=n.options.some(function(n){return n.checked});if(console.log(l),!l)return this.HelpUtils.toastPop("答案不能空!"),!1;var o=[];n.options.forEach(function(n){n.checked&&(1==n.is_other&&(e.text_result=t.otherTextArea||""),o.push(n.record_id))}),e.option_id=o.join(),e.option_result=o.join()}if(3==n.type){if(!this.textArea.trim())return this.HelpUtils.toastPop("请填写内容!"),!1;e.text_result=this.textArea||"",console.log("文本题：",this.textArea)}if(4==n.type){if(!this.score)return this.HelpUtils.toastPop("请打分!"),!1;e.option_result=this.score||"",e.text_result=this.otherTextArea||"",console.log("打分：",this.score)}if(5==n.type){if(!this.rate)return this.HelpUtils.toastPop("请选择!"),!1;e.option_result=this.rate.toString()||"",console.log("星星：",this.rate)}return 1==n.is_attach&&(e.attachs=this.CertifyImgs||[]),console.log("最终数据：",e),this.http.postJSON({Router:b.a.Url.submitoption,Method:"POST",Body:e}).then(function(n){}),!0},n.prototype.onNext=function(n){this.deal(n)&&(this.questionService.addQuestionIndex(),this.navCtrl.push("QuestionPage",{record_id:n.record_id}).then(function(n){}))},n.prototype.completion=function(){this.http.postJSON({Router:b.a.Url.completion,Method:"POST",Body:{Type:localStorage.getItem("wCode")||""}}).then(function(n){if(!n.FeedbackCode){var t=localStorage.getItem("wCode");"antlinker-jjdc"==t||"antlinker-xszp"==t||"antlinker-xzpy"==t?location.replace("/poolstudents/index.html?tipe=1"):antlinker.closeView({success:function(){},fail:function(){}})}})},n.prototype.submitcompletion=function(){var n=this;this.http.postJSON({Router:b.a.Url.submitcompletion,Method:"POST",Body:{questionnaire_id:localStorage.getItem("questionnaire_id"),bu_type:"wenjuan",bu_id:""}}).then(function(t){t.FeedbackCode||n.completion()})},n.prototype.onFinish=function(n){this.deal(n)&&this.submitcompletion()},n.prototype.onModelChange=function(n){console.log(n)},n.prototype.swipeEvent=function(n){1!=n.direction&&2!=n.direction||this.QuestionIndex+1!=this.QuestionList.length&&this.onNext(this.QuestionList[this.QuestionIndex].record_id),console.log(n)},n.prototype.onSwipeUp=function(n){console.log(n)},n.prototype.onSwipeDown=function(n){console.log(n)},n}(),P=function(){return function(){}}(),U=e(186),j=e(187),A=e(188),L=e(189),M=e(190),O=e(191),F=e(192),T=e(193),E=e(194),R=e(196),z=e(17),Q=e(14),q=e(1),Y=e(39),Z=e(69),D=e(241),B=e(16),N=e(111),H=e(3),V=e(8),J=e(21),G=e(9),W=e(41),X=e(240),K=e(110),nn=e(13),tn=e(51),en=e(7),ln=e(114),on=e(40),rn=e(239),un=e(34),sn=e(4),an=e(20),cn=e(38),fn=e(19),pn=e(71),hn=e(10),dn=y.X({encapsulation:2,styles:[],data:{}}),gn=y.V("page-question",S,function(n){return y._19(0,[(n()(),y.Z(0,0,null,null,1,"page-question",[],null,null,null,_,dn)),y.Y(1,4243456,null,0,S,[I.c,k.a,pn.a,w.a,x.a,an.a,hn.a],null,null)],null,null)},{},{},[]),mn=e(112),vn=e(35);e.d(t,"QuestionPageModuleNgFactory",function(){return _n});var _n=y.W(P,[],function(n){return y._7([y._8(512,y.i,y.S,[[8,[U.a,j.a,A.a,L.a,M.a,O.a,F.a,T.a,E.a,gn]],[3,y.i],y.s]),y._8(4608,nn.k,nn.j,[y.r,[2,nn.s]]),y._8(4608,B.n,B.n,[]),y._8(4608,B.c,B.c,[]),y._8(512,nn.b,nn.b,[]),y._8(512,B.m,B.m,[]),y._8(512,B.d,B.d,[]),y._8(512,B.l,B.l,[]),y._8(512,mn.a,mn.a,[]),y._8(512,mn.b,mn.b,[]),y._8(512,P,P,[]),y._8(256,vn.a,S,[])])})},239:function(n,t,e){"use strict";function l(n){return o._19(2,[o._16(402653184,1,{_fixedContent:0}),o._16(402653184,2,{_scrollContent:0}),(n()(),o.Z(2,0,[[1,0],["fixedContent",1]],null,1,"div",[["class","fixed-content"]],null,null,null,null,null)),o._10(null,0),(n()(),o.Z(4,0,[[2,0],["scrollContent",1]],null,1,"div",[["class","scroll-content"]],null,null,null,null,null)),o._10(null,1),o._10(null,2)],null,null)}e.d(t,"a",function(){return r}),t.b=l;var o=e(0),r=(e(1),e(3),e(9),e(34),e(4),e(20),o.X({encapsulation:2,styles:[],data:{}}))},240:function(n,t,e){"use strict";function l(n){return o._19(0,[(n()(),o.Z(0,0,null,null,1,"div",[["class","checkbox-icon"]],[[2,"checkbox-checked",null]],null,null,null,null)),(n()(),o.Z(1,0,null,null,0,"div",[["class","checkbox-inner"]],null,null,null,null,null)),(n()(),o.Z(2,0,null,null,2,"button",[["class","item-cover"],["ion-button","item-cover"],["role","checkbox"],["type","button"]],[[8,"id",0],[1,"aria-checked",0],[1,"aria-labelledby",0],[1,"aria-disabled",0]],null,null,r.b,r.a)),o.Y(3,1097728,null,0,i.a,[[8,"item-cover"],u.a,o.j,o.z],null,null),(n()(),o._18(-1,0,[" "]))],null,function(n,t){var e=t.component;n(t,0,0,e._value);n(t,2,0,e.id,e._value,e._labelId,e._disabled)})}e.d(t,"a",function(){return s}),t.b=l;var o=e(0),r=e(38),i=e(19),u=e(1),s=(e(14),o.X({encapsulation:2,styles:[],data:{}}))},241:function(n,t,e){"use strict";function l(n){return s._19(0,[(n()(),s.Z(0,0,[[1,0],["textInput",1]],null,1,"input",[["class","text-input"],["dir","auto"]],[[8,"type",0],[1,"aria-labelledby",0],[1,"min",0],[1,"max",0],[1,"step",0],[1,"autocomplete",0],[1,"autocorrect",0],[8,"placeholder",0],[8,"disabled",0],[8,"readOnly",0]],[[null,"input"],[null,"blur"],[null,"focus"],[null,"keydown"]],function(n,t,e){var l=!0,o=n.component;if("input"===t){l=!1!==o.onInput(e)&&l}if("blur"===t){l=!1!==o.onBlur(e)&&l}if("focus"===t){l=!1!==o.onFocus(e)&&l}if("keydown"===t){l=!1!==o.onKeydown(e)&&l}return l},null,null)),s.Y(1,278528,null,0,a.g,[s.p,s.q,s.j,s.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(n,t){n(t,1,0,"text-input","text-input-"+t.component._mode)},function(n,t){var e=t.component;n(t,0,0,e._type,e._labelId,e.min,e.max,e.step,e.autocomplete,e.autocorrect,e.placeholder,e._disabled,e._readonly)})}function o(n){return s._19(0,[(n()(),s.Z(0,0,[[1,0],["textInput",1]],null,1,"textarea",[["class","text-input"]],[[1,"aria-labelledby",0],[1,"autocomplete",0],[1,"autocorrect",0],[8,"placeholder",0],[8,"disabled",0],[8,"readOnly",0]],[[null,"input"],[null,"blur"],[null,"focus"],[null,"keydown"]],function(n,t,e){var l=!0,o=n.component;if("input"===t){l=!1!==o.onInput(e)&&l}if("blur"===t){l=!1!==o.onBlur(e)&&l}if("focus"===t){l=!1!==o.onFocus(e)&&l}if("keydown"===t){l=!1!==o.onKeydown(e)&&l}return l},null,null)),s.Y(1,278528,null,0,a.g,[s.p,s.q,s.j,s.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(n,t){n(t,1,0,"text-input","text-input-"+t.component._mode)},function(n,t){var e=t.component;n(t,0,0,e._labelId,e.autocomplete,e.autocorrect,e.placeholder,e._disabled,e._readonly)})}function r(n){return s._19(0,[(n()(),s.Z(0,0,null,null,1,"button",[["class","text-input-clear-icon"],["clear",""],["ion-button",""],["tabindex","-1"],["type","button"]],null,[[null,"click"],[null,"mousedown"]],function(n,t,e){var l=!0,o=n.component;if("click"===t){l=!1!==o.clearTextInput(e)&&l}if("mousedown"===t){l=!1!==o.clearTextInput(e)&&l}return l},c.b,c.a)),s.Y(1,1097728,null,0,f.a,[[8,""],p.a,s.j,s.z],{clear:[0,"clear"]},null)],function(n,t){n(t,1,0,"")},null)}function i(n){return s._19(0,[(n()(),s.Z(0,0,null,null,0,"div",[["class","input-cover"]],null,[[null,"touchstart"],[null,"touchend"],[null,"mousedown"],[null,"mouseup"]],function(n,t,e){var l=!0,o=n.component;if("touchstart"===t){l=!1!==o._pointerStart(e)&&l}if("touchend"===t){l=!1!==o._pointerEnd(e)&&l}if("mousedown"===t){l=!1!==o._pointerStart(e)&&l}if("mouseup"===t){l=!1!==o._pointerEnd(e)&&l}return l},null,null))],null,null)}function u(n){return s._19(2,[s._16(671088640,1,{_native:0}),(n()(),s.U(16777216,null,null,1,null,l)),s.Y(2,16384,null,0,a.i,[s.I,s.F],{ngIf:[0,"ngIf"]},null),(n()(),s.U(16777216,null,null,1,null,o)),s.Y(4,16384,null,0,a.i,[s.I,s.F],{ngIf:[0,"ngIf"]},null),(n()(),s.U(16777216,null,null,1,null,r)),s.Y(6,16384,null,0,a.i,[s.I,s.F],{ngIf:[0,"ngIf"]},null),(n()(),s.U(16777216,null,null,1,null,i)),s.Y(8,16384,null,0,a.i,[s.I,s.F],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,!e._isTextarea);n(t,4,0,e._isTextarea);n(t,6,0,e._clearInput);n(t,8,0,e._useAssist)},null)}e.d(t,"a",function(){return h}),t.b=u;var s=e(0),a=e(13),c=e(38),f=e(19),p=e(1),h=(e(3),e(14),e(9),s.X({encapsulation:2,styles:[],data:{}}))},242:function(n,t,e){!function(t,e){n.exports=e()}("undefined"!=typeof self&&self,function(){return function(n){function t(l){if(e[l])return e[l].exports;var o=e[l]={i:l,l:!1,exports:{}};return n[l].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var e={};return t.m=n,t.c=e,t.d=function(n,e,l){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:l})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="/dist/",t(t.s=58)}([function(n,t){var e=n.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(n,t,e){var l=e(30)("wks"),o=e(20),r=e(0).Symbol,i="function"==typeof r;(n.exports=function(n){return l[n]||(l[n]=i&&r[n]||(i?r:o)("Symbol."+n))}).store=l},function(n,t){var e=n.exports={version:"2.5.3"};"number"==typeof __e&&(__e=e)},function(n,t,e){var l=e(7);n.exports=function(n){if(!l(n))throw TypeError(n+" is not an object!");return n}},function(n,t,e){var l=e(0),o=e(2),r=e(17),i=e(5),u=function(n,t,e){var s,a,c,f=n&u.F,p=n&u.G,h=n&u.S,d=n&u.P,g=n&u.B,m=n&u.W,v=p?o:o[t]||(o[t]={}),_=v.prototype,y=p?l:h?l[t]:(l[t]||{}).prototype;for(s in p&&(e=t),e)(a=!f&&y&&void 0!==y[s])&&s in v||(c=a?y[s]:e[s],v[s]=p&&"function"!=typeof y[s]?e[s]:g&&a?r(c,l):m&&y[s]==c?function(n){var t=function(t,e,l){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,e)}return new n(t,e,l)}return n.apply(this,arguments)};return t.prototype=n.prototype,t}(c):d&&"function"==typeof c?r(Function.call,c):c,d&&((v.virtual||(v.virtual={}))[s]=c,n&u.R&&_&&!_[s]&&i(_,s,c)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,n.exports=u},function(n,t,e){var l=e(6),o=e(19);n.exports=e(8)?function(n,t,e){return l.f(n,t,o(1,e))}:function(n,t,e){return n[t]=e,n}},function(n,t,e){var l=e(3),o=e(41),r=e(28),i=Object.defineProperty;t.f=e(8)?Object.defineProperty:function(n,t,e){if(l(n),t=r(t,!0),l(e),o)try{return i(n,t,e)}catch(n){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(n[t]=e.value),n}},function(n,t){n.exports=function(n){return"object"==typeof n?null!==n:"function"==typeof n}},function(n,t,e){n.exports=!e(10)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(n,t){var e={}.hasOwnProperty;n.exports=function(n,t){return e.call(n,t)}},function(n,t){n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,t,e){var l=e(45),o=e(26);n.exports=function(n){return l(o(n))}},function(n,t){n.exports={}},function(n,t,e){var l=e(44),o=e(31);n.exports=Object.keys||function(n){return l(n,o)}},function(n,t){var e={}.toString;n.exports=function(n){return e.call(n).slice(8,-1)}},function(n,t,e){"use strict";function l(n){return n&&n.__esModule?n:{default:n}}function o(n){return(0,d.default)(n).filter(function(n){return n.startsWith("x:")}).map(function(t){return[t,n[t].toString()]})}function r(n){return"qiniu_js_sdk_upload_file_"+n.name+"_size_"+n.size}function i(n){return{Authorization:"UpToken "+n}}function u(){return window.XMLHttpRequest?new XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP")}function s(n){return new f.default(function(t,e){var l=new FileReader;l.readAsArrayBuffer(n),l.onload=function(n){t(n.target.result)},l.onerror=function(){e(new Error("fileReader 读取错误"))}})}function a(n,t){return new f.default(function(e,l){var o=u();o.open(t.method,n),t.onCreate&&t.onCreate(o),t.headers&&(0,d.default)(t.headers).forEach(function(n){return o.setRequestHeader(n,t.headers[n])}),o.upload.addEventListener("progress",function(n){n.lengthComputable&&t.onProgress&&t.onProgress({loaded:n.loaded,total:n.total})}),o.onreadystatechange=function(){var n=o.responseText;if(4===o.readyState){var t=o.getResponseHeader("x-reqId")||"";if(200!==o.status){var r="xhr request failed, code: "+o.status+";";return n&&(r=r+" response: "+n),void l({code:o.status,message:r,reqId:t,isRequestError:!0})}try{e({data:JSON.parse(n),reqId:t})}catch(n){l(n)}}},o.send(t.body)})}function c(){return"http:"===window.location.protocol?"http:":"https:"}t.__esModule=!0;var f=l(e(24)),p=l(e(54)),h=l(e(85)),d=l(e(55));t.isChunkExpired=function(n){var t=n+864e5;return(new Date).getTime()>t},t.getChunks=function(n,t){for(var e=[],l=Math.ceil(n.size/t),o=0;o<l;o++){var r=n.slice(t*o,o===l-1?n.size:t*(o+1));e.push(r)}return e},t.filterParams=o,t.sum=function(n){return n.reduce(function(n,t){return n+t},0)},t.setLocalFileInfo=function(n,t){try{localStorage.setItem(r(n),(0,h.default)(t))}catch(n){window.console&&window.console.warn&&console.warn("setLocalFileInfo failed")}},t.removeLocalFileInfo=function(n){try{localStorage.removeItem(r(n))}catch(n){window.console&&window.console.warn&&console.warn("removeLocalFileInfo failed")}},t.getLocalFileInfo=function(n){try{return JSON.parse(localStorage.getItem(r(n)))||[]}catch(n){return window.console&&window.console.warn&&console.warn("getLocalFileInfo failed"),[]}},t.createMkFileUrl=function(n,t,e,l){var r=n+"/mkfile/"+t;null!=e&&(r+="/key/"+(0,g.urlSafeBase64Encode)(e)),l.mimeType&&(r+="/mimeType/"+(0,g.urlSafeBase64Encode)(l.mimeType));var i=l.fname;return i&&(r+="/fname/"+(0,g.urlSafeBase64Encode)(i)),l.params&&o(l.params).forEach(function(n){return r+="/"+encodeURIComponent(n[0])+"/"+(0,g.urlSafeBase64Encode)(n[1])}),r},t.getHeadersForChunkUpload=function(n){var t=i(n);return(0,p.default)({"content-type":"application/octet-stream"},t)},t.getHeadersForMkFile=function(n){var t=i(n);return(0,p.default)({"content-type":"text/plain"},t)},t.createXHR=u,t.computeMd5=function(n){return s(n).then(function(n){var t=new v.default.ArrayBuffer;return t.append(n),t.end()})},t.readAsArrayBuffer=s,t.request=a,t.getPortFromUrl=function(n){if(n&&n.match){var t=n.match(/(^https?)/);if(!t)return"";var e=t[1];return(t=n.match(/^https?:\/\/([^:^\/]*):(\d*)/))?t[2]:"http"===e?"80":"443"}return""},t.getDomainFromUrl=function(n){if(n&&n.match){var t=n.match(/^https?:\/\/([^:^\/]*)/);return t?t[1]:""}return""},t.getUploadUrl=function(n,t){var e=c();if(null!=n.region){var l=m.regionUphostMap[n.region];return f.default.resolve(e+"//"+(n.useCdnDomain?l.cdnUphost:l.srcUphost))}return function(n){try{var t=function(t){var e=n.split(":"),l=e[0],o=JSON.parse((0,g.urlSafeBase64Decode)(e[2]));return o.ak=l,o.bucket=o.scope.split(":")[0],o}();return a(c()+"//api.qiniu.com/v2/query?ak="+t.ak+"&bucket="+t.bucket,{method:"GET"})}catch(n){return f.default.reject(n)}}(t).then(function(n){return e+"//"+n.data.up.acc.main[0]})},t.isContainFileMimeType=function(n,t){return t.indexOf(n)>-1};var g=e(56),m=e(37),v=l(e(90))},function(n,t){n.exports=!0},function(n,t,e){var l=e(18);n.exports=function(n,t,e){if(l(n),void 0===t)return n;switch(e){case 1:return function(e){return n.call(t,e)};case 2:return function(e,l){return n.call(t,e,l)};case 3:return function(e,l,o){return n.call(t,e,l,o)}}return function(){return n.apply(t,arguments)}}},function(n,t){n.exports=function(n){if("function"!=typeof n)throw TypeError(n+" is not a function!");return n}},function(n,t){n.exports=function(n,t){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:t}}},function(n,t){var e=0,l=Math.random();n.exports=function(n){return"Symbol(".concat(void 0===n?"":n,")_",(++e+l).toString(36))}},function(n,t,e){var l=e(6).f,o=e(9),r=e(1)("toStringTag");n.exports=function(n,t,e){n&&!o(n=e?n:n.prototype,r)&&l(n,r,{configurable:!0,value:t})}},function(n,t){t.f={}.propertyIsEnumerable},function(n,t,e){"use strict";t.__esModule=!0,t.default=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}},function(n,t,e){n.exports={default:e(59),__esModule:!0}},function(n,t){var e=Math.ceil,l=Math.floor;n.exports=function(n){return isNaN(n=+n)?0:(n>0?l:e)(n)}},function(n,t){n.exports=function(n){if(void 0==n)throw TypeError("Can't call method on  "+n);return n}},function(n,t,e){var l=e(7),o=e(0).document,r=l(o)&&l(o.createElement);n.exports=function(n){return r?o.createElement(n):{}}},function(n,t,e){var l=e(7);n.exports=function(n,t){if(!l(n))return n;var e,o;if(t&&"function"==typeof(e=n.toString)&&!l(o=e.call(n)))return o;if("function"==typeof(e=n.valueOf)&&!l(o=e.call(n)))return o;if(!t&&"function"==typeof(e=n.toString)&&!l(o=e.call(n)))return o;throw TypeError("Can't convert object to primitive value")}},function(n,t,e){var l=e(30)("keys"),o=e(20);n.exports=function(n){return l[n]||(l[n]=o(n))}},function(n,t,e){var l=e(0),o=l["__core-js_shared__"]||(l["__core-js_shared__"]={});n.exports=function(n){return o[n]||(o[n]={})}},function(n,t){n.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(n,t,e){var l=e(26);n.exports=function(n){return Object(l(n))}},function(n,t,e){"use strict";var l=e(18);n.exports.f=function(n){return new function(t){var e,o;this.promise=new n(function(n,t){if(void 0!==e||void 0!==o)throw TypeError("Bad Promise constructor");e=n,o=t}),this.resolve=l(e),this.reject=l(o)}(0)}},function(n,t){t.f=Object.getOwnPropertySymbols},function(n,t,e){t.f=e(1)},function(n,t,e){var l=e(0),o=e(2),r=e(16),i=e(35),u=e(6).f;n.exports=function(n){var t=o.Symbol||(o.Symbol=r?{}:l.Symbol||{});"_"==n.charAt(0)||n in t||u(t,n,{value:i.f(n)})}},function(n,t,e){"use strict";t.__esModule=!0,t.regionUphostMap={z0:{srcUphost:"up.qiniup.com",cdnUphost:"upload.qiniup.com"},z1:{srcUphost:"up-z1.qiniup.com",cdnUphost:"upload-z1.qiniup.com"},z2:{srcUphost:"up-z2.qiniup.com",cdnUphost:"upload-z2.qiniup.com"},na0:{srcUphost:"up-na0.qiniup.com",cdnUphost:"upload-na0.qiniup.com"},as0:{srcUphost:"up-as0.qiniup.com",cdnUphost:"upload-as0.qiniup.com"}},t.region={z0:"z0",z1:"z1",z2:"z2",na0:"na0",as0:"as0"}},function(n,t){},function(n,t,e){"use strict";var l=e(60)(!0);e(40)(String,"String",function(n){this._t=String(n),this._i=0},function(){var n,t=this._t,e=this._i;return e>=t.length?{value:void 0,done:!0}:(n=l(t,e),this._i+=n.length,{value:n,done:!1})})},function(n,t,e){"use strict";var l=e(16),o=e(4),r=e(42),i=e(5),u=e(9),s=e(12),a=e(61),c=e(21),f=e(65),p=e(1)("iterator"),h=!([].keys&&"next"in[].keys()),d=function(){return this};n.exports=function(n,t,e,g,m,v,_){a(e,t,g);var y,x,b,w=function(n){if(!h&&n in S)return S[n];switch(n){case"keys":case"values":return function(){return new e(this,n)}}return function(){return new e(this,n)}},I=t+" Iterator",k="values"==m,C=!1,S=n.prototype,P=S[p]||S["@@iterator"]||m&&S[m],U=!h&&P||w(m),j=m?k?w("entries"):U:void 0,A="Array"==t&&S.entries||P;if(A&&(b=f(A.call(new n)))!==Object.prototype&&b.next&&(c(b,I,!0),l||u(b,p)||i(b,p,d)),k&&P&&"values"!==P.name&&(C=!0,U=function(){return P.call(this)}),l&&!_||!h&&!C&&S[p]||i(S,p,U),s[t]=U,s[I]=d,m)if(y={values:k?U:w("values"),keys:v?U:w("keys"),entries:j},_)for(x in y)x in S||r(S,x,y[x]);else o(o.P+o.F*(h||C),t,y);return y}},function(n,t,e){n.exports=!e(8)&&!e(10)(function(){return 7!=Object.defineProperty(e(27)("div"),"a",{get:function(){return 7}}).a})},function(n,t,e){n.exports=e(5)},function(n,t,e){var l=e(3),o=e(62),r=e(31),i=e(29)("IE_PROTO"),u=function(){},s=function(){var n,t=e(27)("iframe"),l=r.length;for(t.style.display="none",e(47).appendChild(t),t.src="javascript:",(n=t.contentWindow.document).open(),n.write("<script>document.F=Object<\/script>"),n.close(),s=n.F;l--;)delete s.prototype[r[l]];return s()};n.exports=Object.create||function(n,t){var e;return null!==n?(u.prototype=l(n),e=new u,u.prototype=null,e[i]=n):e=s(),void 0===t?e:o(e,t)}},function(n,t,e){var l=e(9),o=e(11),r=e(63)(!1),i=e(29)("IE_PROTO");n.exports=function(n,t){var e,u=o(n),s=0,a=[];for(e in u)e!=i&&l(u,e)&&a.push(e);for(;t.length>s;)l(u,e=t[s++])&&(~r(a,e)||a.push(e));return a}},function(n,t,e){var l=e(14);n.exports=Object("z").propertyIsEnumerable(0)?Object:function(n){return"String"==l(n)?n.split(""):Object(n)}},function(n,t,e){var l=e(25),o=Math.min;n.exports=function(n){return n>0?o(l(n),9007199254740991):0}},function(n,t,e){var l=e(0).document;n.exports=l&&l.documentElement},function(n,t,e){e(66);for(var l=e(0),o=e(5),r=e(12),i=e(1)("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<u.length;s++){var a=u[s],c=l[a],f=c&&c.prototype;f&&!f[i]&&o(f,i,a),r[a]=r.Array}},function(n,t,e){var l=e(14),o=e(1)("toStringTag"),r="Arguments"==l(function(){return arguments}());n.exports=function(n){var t,e,i;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(e=function(n,t){try{return n[t]}catch(n){}}(t=Object(n),o))?e:r?l(t):"Object"==(i=l(t))&&"function"==typeof t.callee?"Arguments":i}},function(n,t,e){var l=e(3),o=e(18),r=e(1)("species");n.exports=function(n,t){var e,i=l(n).constructor;return void 0===i||void 0==(e=l(i)[r])?t:o(e)}},function(n,t,e){var l,o,r,i=e(17),u=e(75),s=e(47),a=e(27),c=e(0),f=c.process,p=c.setImmediate,h=c.clearImmediate,d=c.MessageChannel,g=c.Dispatch,m=0,v={},_=function(){var n=+this;if(v.hasOwnProperty(n)){var t=v[n];delete v[n],t()}},y=function(n){_.call(n.data)};p&&h||(p=function(n){for(var t=[],e=1;arguments.length>e;)t.push(arguments[e++]);return v[++m]=function(){u("function"==typeof n?n:Function(n),t)},l(m),m},h=function(n){delete v[n]},"process"==e(14)(f)?l=function(n){f.nextTick(i(_,n,1))}:g&&g.now?l=function(n){g.now(i(_,n,1))}:d?(r=(o=new d).port2,o.port1.onmessage=y,l=i(r.postMessage,r,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(l=function(n){c.postMessage(n+"","*")},c.addEventListener("message",y,!1)):l="onreadystatechange"in a("script")?function(n){s.appendChild(a("script")).onreadystatechange=function(){s.removeChild(this),_.call(n)}}:function(n){setTimeout(i(_,n,1),0)}),n.exports={set:p,clear:h}},function(n,t){n.exports=function(n){try{return{e:!1,v:n()}}catch(n){return{e:!0,v:n}}}},function(n,t,e){var l=e(3),o=e(7),r=e(33);n.exports=function(n,t){if(l(n),o(t)&&t.constructor===n)return t;var e=r.f(n);return(0,e.resolve)(t),e.promise}},function(n,t,e){n.exports={default:e(82),__esModule:!0}},function(n,t,e){n.exports={default:e(87),__esModule:!0}},function(n,t,e){"use strict";t.__esModule=!0,t.urlSafeBase64Encode=function(n){return(n=function(n){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e=void 0,l=void 0,o=void 0,r=void 0,i=void 0,u=0,s=0,a="",c=[];if(!n)return n;n=function(n){if(null===n||void 0===n)return"";var t=n+"",e="",l=void 0,o=void 0,r=0;l=o=0,r=t.length;for(var i=0;i<r;i++){var u=t.charCodeAt(i),s=null;if(u<128)o++;else if(u>127&&u<2048)s=String.fromCharCode(u>>6|192,63&u|128);else if(63488&u^!0)s=String.fromCharCode(u>>12|224,u>>6&63|128,63&u|128);else{if(64512&u^!0)throw new RangeError("Unmatched trail surrogate at "+i);var a=t.charCodeAt(++i);if(64512&a^!0)throw new RangeError("Unmatched lead surrogate at "+(i-1));u=((1023&u)<<10)+(1023&a)+65536,s=String.fromCharCode(u>>18|240,u>>12&63|128,u>>6&63|128,63&u|128)}null!==s&&(o>l&&(e+=t.slice(l,o)),e+=s,l=o=i+1)}return o>l&&(e+=t.slice(l,r)),e}(n+"");do{e=(i=n.charCodeAt(u++)<<16|n.charCodeAt(u++)<<8|n.charCodeAt(u++))>>18&63,l=i>>12&63,o=i>>6&63,r=63&i,c[s++]=t.charAt(e)+t.charAt(l)+t.charAt(o)+t.charAt(r)}while(u<n.length);switch(a=c.join(""),n.length%3){case 1:a=a.slice(0,-2)+"==";break;case 2:a=a.slice(0,-1)+"="}return a}(n)).replace(/\//g,"_").replace(/\+/g,"-")},t.urlSafeBase64Decode=function(n){return function(n){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e=void 0,l=void 0,o=void 0,r=void 0,i=void 0,u=void 0,s=0,a=0,c=[];if(!n)return n;n+="";do{e=(u=t.indexOf(n.charAt(s++))<<18|t.indexOf(n.charAt(s++))<<12|(r=t.indexOf(n.charAt(s++)))<<6|(i=t.indexOf(n.charAt(s++))))>>16&255,l=u>>8&255,o=255&u,c[a++]=64===r?String.fromCharCode(e):64===i?String.fromCharCode(e,l):String.fromCharCode(e,l,o)}while(s<n.length);return c.join("")}(n=n.replace(/_/g,"/").replace(/-/g,"+"))}},function(n,t,e){var l=e(44),o=e(31).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(n){return l(n,o)}},function(n,t,e){"use strict";t.__esModule=!0,t.pipeline=t.exif=t.imageInfo=t.watermark=t.imageMogr2=t.getUploadUrl=t.filterParams=t.getHeadersForMkFile=t.getHeadersForChunkUpload=t.createMkFileUrl=t.region=t.upload=void 0;var l=e(37),o=e(15),r=e(91),i=e(93),u=e(94),s=new(e(108).StatisticsLogger);t.upload=function(n,t,e,l,o){var i={file:n,key:t,token:e,putExtra:l,config:o};return new u.Observable(function(n){var t=new r.UploadManager(i,{onData:function(t){return n.next(t)},onError:function(t){return n.error(t)},onComplete:function(t){return n.complete(t)}},s);return t.putFile(),t.stop.bind(t)})},t.region=l.region,t.createMkFileUrl=o.createMkFileUrl,t.getHeadersForChunkUpload=o.getHeadersForChunkUpload,t.getHeadersForMkFile=o.getHeadersForMkFile,t.filterParams=o.filterParams,t.getUploadUrl=o.getUploadUrl,t.imageMogr2=i.imageMogr2,t.watermark=i.watermark,t.imageInfo=i.imageInfo,t.exif=i.exif,t.pipeline=i.pipeline},function(n,t,e){e(38),e(39),e(48),e(69),e(80),e(81),n.exports=e(2).Promise},function(n,t,e){var l=e(25),o=e(26);n.exports=function(n){return function(t,e){var r,i,u=String(o(t)),s=l(e),a=u.length;return s<0||s>=a?n?"":void 0:(r=u.charCodeAt(s))<55296||r>56319||s+1===a||(i=u.charCodeAt(s+1))<56320||i>57343?n?u.charAt(s):r:n?u.slice(s,s+2):i-56320+(r-55296<<10)+65536}}},function(n,t,e){"use strict";var l=e(43),o=e(19),r=e(21),i={};e(5)(i,e(1)("iterator"),function(){return this}),n.exports=function(n,t,e){n.prototype=l(i,{next:o(1,e)}),r(n,t+" Iterator")}},function(n,t,e){var l=e(6),o=e(3),r=e(13);n.exports=e(8)?Object.defineProperties:function(n,t){o(n);for(var e,i=r(t),u=i.length,s=0;u>s;)l.f(n,e=i[s++],t[e]);return n}},function(n,t,e){var l=e(11),o=e(46),r=e(64);n.exports=function(n){return function(t,e,i){var u,s=l(t),a=o(s.length),c=r(i,a);if(n&&e!=e){for(;a>c;)if((u=s[c++])!=u)return!0}else for(;a>c;c++)if((n||c in s)&&s[c]===e)return n||c||0;return!n&&-1}}},function(n,t,e){var l=e(25),o=Math.max,r=Math.min;n.exports=function(n,t){return(n=l(n))<0?o(n+t,0):r(n,t)}},function(n,t,e){var l=e(9),o=e(32),r=e(29)("IE_PROTO"),i=Object.prototype;n.exports=Object.getPrototypeOf||function(n){return n=o(n),l(n,r)?n[r]:"function"==typeof n.constructor&&n instanceof n.constructor?n.constructor.prototype:n instanceof Object?i:null}},function(n,t,e){"use strict";var l=e(67),o=e(68),r=e(12),i=e(11);n.exports=e(40)(Array,"Array",function(n,t){this._t=i(n),this._i=0,this._k=t},function(){var n=this._t,t=this._k,e=this._i++;return!n||e>=n.length?(this._t=void 0,o(1)):o(0,"keys"==t?e:"values"==t?n[e]:[e,n[e]])},"values"),r.Arguments=r.Array,l("keys"),l("values"),l("entries")},function(n,t){n.exports=function(){}},function(n,t){n.exports=function(n,t){return{value:t,done:!!n}}},function(n,t,e){"use strict";var l,o,r,i,u=e(16),s=e(0),a=e(17),c=e(49),f=e(4),p=e(7),h=e(18),d=e(70),g=e(71),m=e(50),v=e(51).set,_=e(76)(),y=e(33),x=e(52),b=e(53),w=s.TypeError,I=s.process,k=s.Promise,C="process"==c(I),S=function(){},P=o=y.f,U=!!function(){try{var n=k.resolve(1),t=(n.constructor={})[e(1)("species")]=function(n){n(S,S)};return(C||"function"==typeof PromiseRejectionEvent)&&n.then(S)instanceof t}catch(n){}}(),j=function(n){var t;return!(!p(n)||"function"!=typeof(t=n.then))&&t},A=function(n,t){if(!n._n){n._n=!0;var e=n._c;_(function(){for(var l=n._v,o=1==n._s,r=0;e.length>r;)!function(t){var e,r,i=o?t.ok:t.fail,u=t.resolve,s=t.reject,a=t.domain;try{i?(o||(2==n._h&&O(n),n._h=1),!0===i?e=l:(a&&a.enter(),e=i(l),a&&a.exit()),e===t.promise?s(w("Promise-chain cycle")):(r=j(e))?r.call(e,u,s):u(e)):s(l)}catch(n){s(n)}}(e[r++]);n._c=[],n._n=!1,t&&!n._h&&L(n)})}},L=function(n){v.call(s,function(){var t,e,l,o=n._v,r=M(n);if(r&&(t=x(function(){C?I.emit("unhandledRejection",o,n):(e=s.onunhandledrejection)?e({promise:n,reason:o}):(l=s.console)&&l.error&&l.error("Unhandled promise rejection",o)}),n._h=C||M(n)?2:1),n._a=void 0,r&&t.e)throw t.v})},M=function(n){return 1!==n._h&&0===(n._a||n._c).length},O=function(n){v.call(s,function(){var t;C?I.emit("rejectionHandled",n):(t=s.onrejectionhandled)&&t({promise:n,reason:n._v})})},F=function(n){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=n,t._s=2,t._a||(t._a=t._c.slice()),A(t,!0))},T=function(n){var t,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===n)throw w("Promise can't be resolved itself");(t=j(n))?_(function(){var l={_w:e,_d:!1};try{t.call(n,a(T,l,1),a(F,l,1))}catch(n){F.call(l,n)}}):(e._v=n,e._s=1,A(e,!1))}catch(n){F.call({_w:e,_d:!1},n)}}};U||(k=function(n){d(this,k,"Promise","_h"),h(n),l.call(this);try{n(a(T,this,1),a(F,this,1))}catch(n){F.call(this,n)}},(l=function(n){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e(77)(k.prototype,{then:function(n,t){var e=P(m(this,k));return e.ok="function"!=typeof n||n,e.fail="function"==typeof t&&t,e.domain=C?I.domain:void 0,this._c.push(e),this._a&&this._a.push(e),this._s&&A(this,!1),e.promise},catch:function(n){return this.then(void 0,n)}}),r=function(){var n=new l;this.promise=n,this.resolve=a(T,n,1),this.reject=a(F,n,1)},y.f=P=function(n){return n===k||n===i?new r(n):o(n)}),f(f.G+f.W+f.F*!U,{Promise:k}),e(21)(k,"Promise"),e(78)("Promise"),i=e(2).Promise,f(f.S+f.F*!U,"Promise",{reject:function(n){var t=P(this);return(0,t.reject)(n),t.promise}}),f(f.S+f.F*(u||!U),"Promise",{resolve:function(n){return b(u&&this===i?k:this,n)}}),f(f.S+f.F*!(U&&e(79)(function(n){k.all(n).catch(S)})),"Promise",{all:function(n){var t=this,e=P(t),l=e.resolve,o=e.reject,r=x(function(){var e=[],r=0,i=1;g(n,!1,function(n){var u=r++,s=!1;e.push(void 0),i++,t.resolve(n).then(function(n){s||(s=!0,e[u]=n,--i||l(e))},o)}),--i||l(e)});return r.e&&o(r.v),e.promise},race:function(n){var t=this,e=P(t),l=e.reject,o=x(function(){g(n,!1,function(n){t.resolve(n).then(e.resolve,l)})});return o.e&&l(o.v),e.promise}})},function(n,t){n.exports=function(n,t,e,l){if(!(n instanceof t)||void 0!==l&&l in n)throw TypeError(e+": incorrect invocation!");return n}},function(n,t,e){var l=e(17),o=e(72),r=e(73),i=e(3),u=e(46),s=e(74),a={},c={};(t=n.exports=function(n,t,e,f,p){var h,d,g,m,v=p?function(){return n}:s(n),_=l(e,f,t?2:1),y=0;if("function"!=typeof v)throw TypeError(n+" is not iterable!");if(r(v)){for(h=u(n.length);h>y;y++)if((m=t?_(i(d=n[y])[0],d[1]):_(n[y]))===a||m===c)return m}else for(g=v.call(n);!(d=g.next()).done;)if((m=o(g,_,d.value,t))===a||m===c)return m}).BREAK=a,t.RETURN=c},function(n,t,e){var l=e(3);n.exports=function(n,t,e,o){try{return o?t(l(e)[0],e[1]):t(e)}catch(t){var r=n.return;throw void 0!==r&&l(r.call(n)),t}}},function(n,t,e){var l=e(12),o=e(1)("iterator"),r=Array.prototype;n.exports=function(n){return void 0!==n&&(l.Array===n||r[o]===n)}},function(n,t,e){var l=e(49),o=e(1)("iterator"),r=e(12);n.exports=e(2).getIteratorMethod=function(n){if(void 0!=n)return n[o]||n["@@iterator"]||r[l(n)]}},function(n,t){n.exports=function(n,t,e){var l=void 0===e;switch(t.length){case 0:return l?n():n.call(e);case 1:return l?n(t[0]):n.call(e,t[0]);case 2:return l?n(t[0],t[1]):n.call(e,t[0],t[1]);case 3:return l?n(t[0],t[1],t[2]):n.call(e,t[0],t[1],t[2]);case 4:return l?n(t[0],t[1],t[2],t[3]):n.call(e,t[0],t[1],t[2],t[3])}return n.apply(e,t)}},function(n,t,e){var l=e(0),o=e(51).set,r=l.MutationObserver||l.WebKitMutationObserver,i=l.process,u=l.Promise,s="process"==e(14)(i);n.exports=function(){var n,t,e,a=function(){var l,o;for(s&&(l=i.domain)&&l.exit();n;){o=n.fn,n=n.next;try{o()}catch(l){throw n?e():t=void 0,l}}t=void 0,l&&l.enter()};if(s)e=function(){i.nextTick(a)};else if(!r||l.navigator&&l.navigator.standalone)if(u&&u.resolve){var c=u.resolve();e=function(){c.then(a)}}else e=function(){o.call(l,a)};else{var f=!0,p=document.createTextNode("");new r(a).observe(p,{characterData:!0}),e=function(){p.data=f=!f}}return function(l){var o={fn:l,next:void 0};t&&(t.next=o),n||(n=o,e()),t=o}}},function(n,t,e){var l=e(5);n.exports=function(n,t,e){for(var o in t)e&&n[o]?n[o]=t[o]:l(n,o,t[o]);return n}},function(n,t,e){"use strict";var l=e(0),o=e(2),r=e(6),i=e(8),u=e(1)("species");n.exports=function(n){var t="function"==typeof o[n]?o[n]:l[n];i&&t&&!t[u]&&r.f(t,u,{configurable:!0,get:function(){return this}})}},function(n,t,e){var l=e(1)("iterator"),o=!1;try{var r=[7][l]();r.return=function(){o=!0},Array.from(r,function(){throw 2})}catch(n){}n.exports=function(n,t){if(!t&&!o)return!1;var e=!1;try{var r=[7],i=r[l]();i.next=function(){return{done:e=!0}},r[l]=function(){return i},n(r)}catch(n){}return e}},function(n,t,e){"use strict";var l=e(4),o=e(2),r=e(0),i=e(50),u=e(53);l(l.P+l.R,"Promise",{finally:function(n){var t=i(this,o.Promise||r.Promise),e="function"==typeof n;return this.then(e?function(e){return u(t,n()).then(function(){return e})}:n,e?function(e){return u(t,n()).then(function(){throw e})}:n)}})},function(n,t,e){"use strict";var l=e(4),o=e(33),r=e(52);l(l.S,"Promise",{try:function(n){var t=o.f(this),e=r(n);return(e.e?t.reject:t.resolve)(e.v),t.promise}})},function(n,t,e){e(83),n.exports=e(2).Object.assign},function(n,t,e){var l=e(4);l(l.S+l.F,"Object",{assign:e(84)})},function(n,t,e){"use strict";var l=e(13),o=e(34),r=e(22),i=e(32),u=e(45),s=Object.assign;n.exports=!s||e(10)(function(){var n={},t={},e=Symbol(),l="abcdefghijklmnopqrst";return n[e]=7,l.split("").forEach(function(n){t[n]=n}),7!=s({},n)[e]||Object.keys(s({},t)).join("")!=l})?function(n,t){for(var e=i(n),s=arguments.length,a=1,c=o.f,f=r.f;s>a;)for(var p,h=u(arguments[a++]),d=c?l(h).concat(c(h)):l(h),g=d.length,m=0;g>m;)f.call(h,p=d[m++])&&(e[p]=h[p]);return e}:s},function(n,t,e){n.exports={default:e(86),__esModule:!0}},function(n,t,e){var l=e(2),o=l.JSON||(l.JSON={stringify:JSON.stringify});n.exports=function(n){return o.stringify.apply(o,arguments)}},function(n,t,e){e(88),n.exports=e(2).Object.keys},function(n,t,e){var l=e(32),o=e(13);e(89)("keys",function(){return function(n){return o(l(n))}})},function(n,t,e){var l=e(4),o=e(2),r=e(10);n.exports=function(n,t){var e=(o.Object||{})[n]||Object[n],i={};i[n]=t(e),l(l.S+l.F*r(function(){e(1)}),"Object",i)}},function(n,t,e){n.exports=function(n){"use strict";function t(n,t){var e=n[0],l=n[1],o=n[2],r=n[3];l=((l+=((o=((o+=((r=((r+=((e=((e+=(l&o|~l&r)+t[0]-680876936|0)<<7|e>>>25)+l|0)&l|~e&o)+t[1]-389564586|0)<<12|r>>>20)+e|0)&e|~r&l)+t[2]+606105819|0)<<17|o>>>15)+r|0)&r|~o&e)+t[3]-1044525330|0)<<22|l>>>10)+o|0,l=((l+=((o=((o+=((r=((r+=((e=((e+=(l&o|~l&r)+t[4]-176418897|0)<<7|e>>>25)+l|0)&l|~e&o)+t[5]+1200080426|0)<<12|r>>>20)+e|0)&e|~r&l)+t[6]-1473231341|0)<<17|o>>>15)+r|0)&r|~o&e)+t[7]-45705983|0)<<22|l>>>10)+o|0,l=((l+=((o=((o+=((r=((r+=((e=((e+=(l&o|~l&r)+t[8]+1770035416|0)<<7|e>>>25)+l|0)&l|~e&o)+t[9]-1958414417|0)<<12|r>>>20)+e|0)&e|~r&l)+t[10]-42063|0)<<17|o>>>15)+r|0)&r|~o&e)+t[11]-1990404162|0)<<22|l>>>10)+o|0,l=((l+=((o=((o+=((r=((r+=((e=((e+=(l&o|~l&r)+t[12]+1804603682|0)<<7|e>>>25)+l|0)&l|~e&o)+t[13]-40341101|0)<<12|r>>>20)+e|0)&e|~r&l)+t[14]-1502002290|0)<<17|o>>>15)+r|0)&r|~o&e)+t[15]+1236535329|0)<<22|l>>>10)+o|0,l=((l+=((o=((o+=((r=((r+=((e=((e+=(l&r|o&~r)+t[1]-165796510|0)<<5|e>>>27)+l|0)&o|l&~o)+t[6]-1069501632|0)<<9|r>>>23)+e|0)&l|e&~l)+t[11]+643717713|0)<<14|o>>>18)+r|0)&e|r&~e)+t[0]-373897302|0)<<20|l>>>12)+o|0,l=((l+=((o=((o+=((r=((r+=((e=((e+=(l&r|o&~r)+t[5]-701558691|0)<<5|e>>>27)+l|0)&o|l&~o)+t[10]+38016083|0)<<9|r>>>23)+e|0)&l|e&~l)+t[15]-660478335|0)<<14|o>>>18)+r|0)&e|r&~e)+t[4]-405537848|0)<<20|l>>>12)+o|0,l=((l+=((o=((o+=((r=((r+=((e=((e+=(l&r|o&~r)+t[9]+568446438|0)<<5|e>>>27)+l|0)&o|l&~o)+t[14]-1019803690|0)<<9|r>>>23)+e|0)&l|e&~l)+t[3]-187363961|0)<<14|o>>>18)+r|0)&e|r&~e)+t[8]+1163531501|0)<<20|l>>>12)+o|0,l=((l+=((o=((o+=((r=((r+=((e=((e+=(l&r|o&~r)+t[13]-1444681467|0)<<5|e>>>27)+l|0)&o|l&~o)+t[2]-51403784|0)<<9|r>>>23)+e|0)&l|e&~l)+t[7]+1735328473|0)<<14|o>>>18)+r|0)&e|r&~e)+t[12]-1926607734|0)<<20|l>>>12)+o|0,l=((l+=((o=((o+=((r=((r+=((e=((e+=(l^o^r)+t[5]-378558|0)<<4|e>>>28)+l|0)^l^o)+t[8]-2022574463|0)<<11|r>>>21)+e|0)^e^l)+t[11]+1839030562|0)<<16|o>>>16)+r|0)^r^e)+t[14]-35309556|0)<<23|l>>>9)+o|0,l=((l+=((o=((o+=((r=((r+=((e=((e+=(l^o^r)+t[1]-1530992060|0)<<4|e>>>28)+l|0)^l^o)+t[4]+1272893353|0)<<11|r>>>21)+e|0)^e^l)+t[7]-155497632|0)<<16|o>>>16)+r|0)^r^e)+t[10]-1094730640|0)<<23|l>>>9)+o|0,l=((l+=((o=((o+=((r=((r+=((e=((e+=(l^o^r)+t[13]+681279174|0)<<4|e>>>28)+l|0)^l^o)+t[0]-358537222|0)<<11|r>>>21)+e|0)^e^l)+t[3]-722521979|0)<<16|o>>>16)+r|0)^r^e)+t[6]+76029189|0)<<23|l>>>9)+o|0,l=((l+=((o=((o+=((r=((r+=((e=((e+=(l^o^r)+t[9]-640364487|0)<<4|e>>>28)+l|0)^l^o)+t[12]-421815835|0)<<11|r>>>21)+e|0)^e^l)+t[15]+530742520|0)<<16|o>>>16)+r|0)^r^e)+t[2]-995338651|0)<<23|l>>>9)+o|0,l=((l+=((r=((r+=(l^((e=((e+=(o^(l|~r))+t[0]-198630844|0)<<6|e>>>26)+l|0)|~o))+t[7]+1126891415|0)<<10|r>>>22)+e|0)^((o=((o+=(e^(r|~l))+t[14]-1416354905|0)<<15|o>>>17)+r|0)|~e))+t[5]-57434055|0)<<21|l>>>11)+o|0,l=((l+=((r=((r+=(l^((e=((e+=(o^(l|~r))+t[12]+1700485571|0)<<6|e>>>26)+l|0)|~o))+t[3]-1894986606|0)<<10|r>>>22)+e|0)^((o=((o+=(e^(r|~l))+t[10]-1051523|0)<<15|o>>>17)+r|0)|~e))+t[1]-2054922799|0)<<21|l>>>11)+o|0,l=((l+=((r=((r+=(l^((e=((e+=(o^(l|~r))+t[8]+1873313359|0)<<6|e>>>26)+l|0)|~o))+t[15]-30611744|0)<<10|r>>>22)+e|0)^((o=((o+=(e^(r|~l))+t[6]-1560198380|0)<<15|o>>>17)+r|0)|~e))+t[13]+1309151649|0)<<21|l>>>11)+o|0,l=((l+=((r=((r+=(l^((e=((e+=(o^(l|~r))+t[4]-145523070|0)<<6|e>>>26)+l|0)|~o))+t[11]-1120210379|0)<<10|r>>>22)+e|0)^((o=((o+=(e^(r|~l))+t[2]+718787259|0)<<15|o>>>17)+r|0)|~e))+t[9]-343485551|0)<<21|l>>>11)+o|0,n[0]=e+n[0]|0,n[1]=l+n[1]|0,n[2]=o+n[2]|0,n[3]=r+n[3]|0}function e(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}function l(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n[t]+(n[t+1]<<8)+(n[t+2]<<16)+(n[t+3]<<24);return e}function o(n){var l,o,r,i,u,s,a=n.length,c=[1732584193,-271733879,-1732584194,271733878];for(l=64;l<=a;l+=64)t(c,e(n.substring(l-64,l)));for(o=(n=n.substring(l-64)).length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=0;l<o;l+=1)r[l>>2]|=n.charCodeAt(l)<<(l%4<<3);if(r[l>>2]|=128<<(l%4<<3),l>55)for(t(c,r),l=0;l<16;l+=1)r[l]=0;return i=(i=8*a).toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(i[2],16),s=parseInt(i[1],16)||0,r[14]=u,r[15]=s,t(c,r),c}function r(n){var t,e="";for(t=0;t<4;t+=1)e+=c[n>>8*t+4&15]+c[n>>8*t&15];return e}function i(n){var t;for(t=0;t<n.length;t+=1)n[t]=r(n[t]);return n.join("")}function u(n){return/[\u0080-\uFFFF]/.test(n)&&(n=unescape(encodeURIComponent(n))),n}function s(n){var t,e=[],l=n.length;for(t=0;t<l-1;t+=2)e.push(parseInt(n.substr(t,2),16));return String.fromCharCode.apply(String,e)}function a(){this.reset()}var c=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return i(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(n,t){return(n=0|n||0)<0?Math.max(n+t,0):Math.min(n,t)}ArrayBuffer.prototype.slice=function(e,l){var o,r,i,u,s=this.byteLength,a=t(e,s),c=s;return l!==n&&(c=t(l,s)),a>c?new ArrayBuffer(0):(o=c-a,r=new ArrayBuffer(o),i=new Uint8Array(r),u=new Uint8Array(this,a,o),i.set(u),r)}}(),a.prototype.append=function(n){return this.appendBinary(u(n)),this},a.prototype.appendBinary=function(n){this._buff+=n,this._length+=n.length;var l,o=this._buff.length;for(l=64;l<=o;l+=64)t(this._hash,e(this._buff.substring(l-64,l)));return this._buff=this._buff.substring(l-64),this},a.prototype.end=function(n){var t,e,l=this._buff,o=l.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)r[t>>2]|=l.charCodeAt(t)<<(t%4<<3);return this._finish(r,o),e=i(this._hash),n&&(e=s(e)),this.reset(),e},a.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},a.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},a.prototype.setState=function(n){return this._buff=n.buff,this._length=n.length,this._hash=n.hash,this},a.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},a.prototype._finish=function(n,e){var l,o,r,i=e;if(n[i>>2]|=128<<(i%4<<3),i>55)for(t(this._hash,n),i=0;i<16;i+=1)n[i]=0;l=(l=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(l[2],16),r=parseInt(l[1],16)||0,n[14]=o,n[15]=r,t(this._hash,n)},a.hash=function(n,t){return a.hashBinary(u(n),t)},a.hashBinary=function(n,t){var e=i(o(n));return t?s(e):e},a.ArrayBuffer=function(){this.reset()},a.ArrayBuffer.prototype.append=function(n){var e,o,r,i,u=(o=this._buff.buffer,r=n,!0,(i=new Uint8Array(o.byteLength+r.byteLength)).set(new Uint8Array(o)),i.set(new Uint8Array(r),o.byteLength),i),s=u.length;for(this._length+=n.byteLength,e=64;e<=s;e+=64)t(this._hash,l(u.subarray(e-64,e)));return this._buff=e-64<s?new Uint8Array(u.buffer.slice(e-64)):new Uint8Array(0),this},a.ArrayBuffer.prototype.end=function(n){var t,e,l=this._buff,o=l.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)r[t>>2]|=l[t]<<(t%4<<3);return this._finish(r,o),e=i(this._hash),n&&(e=s(e)),this.reset(),e},a.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},a.ArrayBuffer.prototype.getState=function(){var n,t=a.prototype.getState.call(this);return t.buff=(n=t.buff,String.fromCharCode.apply(null,new Uint8Array(n))),t},a.ArrayBuffer.prototype.setState=function(n){return n.buff=function(n,t){var e,l=n.length,o=new ArrayBuffer(l),r=new Uint8Array(o);for(e=0;e<l;e+=1)r[e]=n.charCodeAt(e);return r}(n.buff),a.prototype.setState.call(this,n)},a.ArrayBuffer.prototype.destroy=a.prototype.destroy,a.ArrayBuffer.prototype._finish=a.prototype._finish,a.ArrayBuffer.hash=function(n,e){var o=i(function(n){var e,o,r,i,u,s,a=n.length,c=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=a;e+=64)t(c,l(n.subarray(e-64,e)));for(o=(n=e-64<a?n.subarray(e-64):new Uint8Array(0)).length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<o;e+=1)r[e>>2]|=n[e]<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(t(c,r),e=0;e<16;e+=1)r[e]=0;return i=(i=8*a).toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(i[2],16),s=parseInt(i[1],16)||0,r[14]=u,r[15]=s,t(c,r),c}(new Uint8Array(n)));return e?s(o):o},a}()},function(n,t,e){"use strict";function l(n){return n&&n.__esModule?n:{default:n}}t.__esModule=!0,t.UploadManager=void 0;var o=l(e(24)),r=l(e(54)),i=l(e(23)),u=e(15),s=e(92);t.UploadManager=function(){function n(t,e,l){var o=this;(0,i.default)(this,n),this.config=(0,r.default)({useCdnDomain:!0,disableStatisticsReport:!1,retryCount:3,checkByMD5:!1,concurrentRequestLimit:3,region:null},t.config),this.putExtra=(0,r.default)({fname:"",params:{},mimeType:null},t.putExtra),this.statisticsLogger=l,this.progress=null,this.xhrList=[],this.xhrHandler=function(n){return o.xhrList.push(n)},this.aborted=!1,this.file=t.file,this.key=t.key,this.token=t.token,this.onData=function(){},this.onError=function(){},this.onComplete=function(){},this.retryCount=0,(0,r.default)(this,e)}return n.prototype.putFile=function(){var n=this;if(this.aborted=!1,this.putExtra.fname||(this.putExtra.fname=this.file.name),this.putExtra.mimeType&&this.putExtra.mimeType.length&&!(0,u.isContainFileMimeType)(this.file.type,this.putExtra.mimeType)){var t=new Error("file type doesn't match with what you specify");return this.onError(t),o.default.reject(t)}var e=(0,u.getUploadUrl)(this.config,this.token).then(function(t){return n.uploadUrl=t,n.uploadAt=(new Date).getTime(),n.file.size>4194304?n.resumeUpload():n.directUpload()});return e.then(function(t){n.onComplete(t.data),n.config.disableStatisticsReport||n.sendLog(t.reqId,200)},function(t){if(n.clear(),t.isRequestError&&!n.config.disableStatisticsReport){n.sendLog(n.aborted?"":t.reqId,n.aborted?-2:t.code)}var e=t.isRequestError&&0===t.code&&!n.aborted,l=++n.retryCount<=n.config.retryCount;e&&l?n.putFile():n.onError(t)}),e},n.prototype.clear=function(){this.xhrList.forEach(function(n){return n.abort()}),this.xhrList=[]},n.prototype.stop=function(){this.clear(),this.aborted=!0},n.prototype.sendLog=function(n,t){this.statisticsLogger.log({code:t,reqId:n,host:(0,u.getDomainFromUrl)(this.uploadUrl),remoteIp:"",port:(0,u.getPortFromUrl)(this.uploadUrl),duration:((new Date).getTime()-this.uploadAt)/1e3,time:Math.floor(this.uploadAt/1e3),bytesSent:this.progress?this.progress.total.loaded:0,upType:"jssdk-h5",size:this.file.size},this.token)},n.prototype.directUpload=function(){var n=this,t=new FormData;return t.append("file",this.file),t.append("token",this.token),null!=this.key&&t.append("key",this.key),t.append("fname",this.putExtra.fname),(0,u.filterParams)(this.putExtra.params).forEach(function(n){return t.append(n[0],n[1])}),(0,u.request)(this.uploadUrl,{method:"POST",body:t,onProgress:function(t){n.updateDirectProgress(t.loaded,t.total)},onCreate:this.xhrHandler}).then(function(t){return n.finishDirectProgress(),t})},n.prototype.resumeUpload=function(){var n=this;this.loaded={mkFileProgress:0,chunks:null},this.ctxList=[],this.localInfo=(0,u.getLocalFileInfo)(this.file),this.chunks=(0,u.getChunks)(this.file,4194304),this.initChunksProgress();var t=new s.Pool(function(t){return n.uploadChunk(t)},this.config.concurrentRequestLimit),e=this.chunks.map(function(n,e){return t.enqueue({chunk:n,index:e})}),l=o.default.all(e).then(function(){return n.mkFileReq()});return l.then(function(t){(0,u.removeLocalFileInfo)(n.file)},function(t){701!==t.code?(0,u.setLocalFileInfo)(n.file,n.ctxList):(0,u.removeLocalFileInfo)(n.file)}),l},n.prototype.uploadChunk=function(n){var t=this,e=n.index,l=n.chunk,r=this.localInfo[e],i=this.uploadUrl+"/mkblk/"+l.size,s=r&&!(0,u.isChunkExpired)(r.time),a=function(){return t.updateChunkProgress(l.size,e),t.ctxList[e]={ctx:r.ctx,time:r.time,md5:r.md5},o.default.resolve(null)};return s&&!this.config.checkByMD5?a():(0,u.computeMd5)(l).then(function(n){if(s&&n===r.md5)return a();var o=(0,u.getHeadersForChunkUpload)(t.token);return(0,u.request)(i,{method:"POST",headers:o,body:l,onProgress:function(n){t.updateChunkProgress(n.loaded,e)},onCreate:t.xhrHandler}).then(function(l){t.ctxList[e]={time:(new Date).getTime(),ctx:l.data.ctx,md5:n}})})},n.prototype.mkFileReq=function(){var n=this,t=(0,r.default)({mimeType:"application/octet-stream"},this.putExtra),e=(0,u.createMkFileUrl)(this.uploadUrl,this.file.size,this.key,t),l=this.ctxList.map(function(n){return n.ctx}).join(","),i=(0,u.getHeadersForMkFile)(this.token);return(0,u.request)(e,{method:"POST",body:l,headers:i,onCreate:this.xhrHandler}).then(function(t){return n.updateMkFileProgress(1),o.default.resolve(t)})},n.prototype.updateDirectProgress=function(n,t){this.progress={total:this.getProgressInfoItem(n,t+1)},this.onData(this.progress)},n.prototype.finishDirectProgress=function(){var n=this.progress.total;this.progress.total=this.getProgressInfoItem(n.loaded+1,n.size),this.onData(this.progress)},n.prototype.initChunksProgress=function(){this.loaded.chunks=this.chunks.map(function(n){return 0}),this.notifyResumeProgress()},n.prototype.updateChunkProgress=function(n,t){this.loaded.chunks[t]=n,this.notifyResumeProgress()},n.prototype.updateMkFileProgress=function(n){this.loaded.mkFileProgress=n,this.notifyResumeProgress()},n.prototype.notifyResumeProgress=function(){var n=this;this.progress={total:this.getProgressInfoItem((0,u.sum)(this.loaded.chunks)+this.loaded.mkFileProgress,this.file.size+1),chunks:this.chunks.map(function(t,e){return n.getProgressInfoItem(n.loaded.chunks[e],t.size)})},this.onData(this.progress)},n.prototype.getProgressInfoItem=function(n,t){return{loaded:n,size:t,percent:n/t*100}},n}()},function(n,t,e){"use strict";function l(n){return n&&n.__esModule?n:{default:n}}t.__esModule=!0,t.Pool=void 0;var o=l(e(24)),r=l(e(23));t.Pool=function(){function n(t,e){(0,r.default)(this,n),this.runTask=t,this.queue=[],this.processing=[],this.limit=e}return n.prototype.enqueue=function(n){var t=this;return new o.default(function(e,l){t.queue.push({task:n,resolve:e,reject:l}),t.check()})},n.prototype.run=function(n){var t=this;this.queue=this.queue.filter(function(t){return t!==n}),this.processing.push(n),this.runTask(n.task).then(function(){t.processing=t.processing.filter(function(t){return t!==n}),n.resolve(),t.check()},function(t){return n.reject(t)})},n.prototype.check=function(){var n=this;this.queue.slice(0,this.limit-this.processing.length).forEach(function(t,e){n.run(t)})},n}()},function(n,t,e){"use strict";function l(n,t){return n=encodeURIComponent(n),"/"!==t.slice(t.length-1)&&(t+="/"),t+n}function o(n,t,e){if(!/^\d$/.test(n.mode))throw"mode should be number in imageView2";var o=n.mode,r=n.w,i=n.h,u=n.q,s=n.format;if(!r&&!i)throw"param w and h is empty in imageView2";var a="imageView2/"+encodeURIComponent(o);return a+=r?"/w/"+encodeURIComponent(r):"",a+=i?"/h/"+encodeURIComponent(i):"",a+=u?"/q/"+encodeURIComponent(u):"",a+=s?"/format/"+encodeURIComponent(s):"",t&&(a=l(t,e)+"?"+a),a}function r(n,t,e){var o=n.thumbnail,r=n.strip,i=n.gravity,u=n.crop,s=n.quality,a=n.rotate,c=n.format,f=n.blur,p="imageMogr2";return p+=n["auto-orient"]?"/auto-orient":"",p+=o?"/thumbnail/"+encodeURIComponent(o):"",p+=r?"/strip":"",p+=i?"/gravity/"+encodeURIComponent(i):"",p+=s?"/quality/"+encodeURIComponent(s):"",p+=u?"/crop/"+encodeURIComponent(u):"",p+=a?"/rotate/"+encodeURIComponent(a):"",p+=c?"/format/"+encodeURIComponent(c):"",p+=f?"/blur/"+encodeURIComponent(f):"",t&&(p=l(t,e)+"?"+p),p}function i(n,t,e){var o=n.mode;if(!o)throw"mode can't be empty in watermark";var r="watermark/"+o;if(1!==o&&2!==o)throw"mode is wrong";if(1===o){var i=n.image;if(!i)throw"image can't be empty in watermark";r+=i?"/image/"+(0,s.urlSafeBase64Encode)(i):""}if(2===o){var u=n.text,a=n.font,c=n.fontsize,f=n.fill;if(!u)throw"text can't be empty in watermark";r+=u?"/text/"+(0,s.urlSafeBase64Encode)(u):"",r+=a?"/font/"+(0,s.urlSafeBase64Encode)(a):"",r+=c?"/fontsize/"+c:"",r+=f?"/fill/"+(0,s.urlSafeBase64Encode)(f):""}var p=n.dissolve,h=n.gravity,d=n.dx,g=n.dy;return r+=p?"/dissolve/"+encodeURIComponent(p):"",r+=h?"/gravity/"+encodeURIComponent(h):"",r+=d?"/dx/"+encodeURIComponent(d):"",r+=g?"/dy/"+encodeURIComponent(g):"",t&&(r=l(t,e)+"?"+r),r}t.__esModule=!0,t.imageView2=o,t.imageMogr2=r,t.watermark=i,t.imageInfo=function(n,t){var e=l(n,t)+"?imageInfo";return(0,u.request)(e,{method:"GET"})},t.exif=function(n,t){var e=l(n,t)+"?exif";return(0,u.request)(e,{method:"GET"})},t.pipeline=function(n,t,e){var u=void 0,s=void 0,a="";if("[object Array]"===Object.prototype.toString.call(n)){for(var c=0,f=n.length;c<f;c++){if(!(u=n[c]).fop)throw"fop can't be empty in pipeline";switch(u.fop){case"watermark":a+=i(u)+"|";break;case"imageView2":a+=o(u)+"|";break;case"imageMogr2":a+=r(u)+"|";break;default:s=!0}if(s)throw"fop is wrong in pipeline"}if(t){var p=(a=l(t,e)+"?"+a).length;"|"===a.slice(p-1)&&(a=a.slice(0,p-1))}return a}throw"pipeline's first param should be array"};var u=e(15),s=e(56)},function(n,t,e){"use strict";function l(n){return n&&n.__esModule?n:{default:n}}t.__esModule=!0,t.Observable=void 0;var o=l(e(95)),r=l(e(23));t.Observable=function(){function n(t){(0,r.default)(this,n),this.subscribeAction=t}return n.prototype.subscribe=function(n,t,e){var l=new i(n,t,e),o=this.subscribeAction(l);return new u(l,o)},n}();var i=function(){function n(t,e,l){(0,r.default)(this,n),this.isStopped=!1,"object"===(void 0===t?"undefined":(0,o.default)(t))?(this._onNext=t.next,this._onError=t.error,this._onCompleted=t.complete):(this._onNext=t,this._onError=e,this._onCompleted=l)}return n.prototype.next=function(n){!this.isStopped&&this._onNext&&this._onNext(n)},n.prototype.error=function(n){!this.isStopped&&this._onError&&(this.isStopped=!0,this._onError(n))},n.prototype.complete=function(n){!this.isStopped&&this._onCompleted&&(this.isStopped=!0,this._onCompleted(n))},n}(),u=function(){function n(t,e){(0,r.default)(this,n),this.observer=t,this.result=e}return n.prototype.unsubscribe=function(){this.observer.isStopped=!0,this.result()},n}()},function(n,t,e){"use strict";function l(n){return n&&n.__esModule?n:{default:n}}t.__esModule=!0;var o=l(e(96)),r=l(e(98)),i="function"==typeof r.default&&"symbol"==typeof o.default?function(n){return typeof n}:function(n){return n&&"function"==typeof r.default&&n.constructor===r.default&&n!==r.default.prototype?"symbol":typeof n};t.default="function"==typeof r.default&&"symbol"===i(o.default)?function(n){return void 0===n?"undefined":i(n)}:function(n){return n&&"function"==typeof r.default&&n.constructor===r.default&&n!==r.default.prototype?"symbol":void 0===n?"undefined":i(n)}},function(n,t,e){n.exports={default:e(97),__esModule:!0}},function(n,t,e){e(39),e(48),n.exports=e(35).f("iterator")},function(n,t,e){n.exports={default:e(99),__esModule:!0}},function(n,t,e){e(100),e(38),e(106),e(107),n.exports=e(2).Symbol},function(n,t,e){"use strict";var l=e(0),o=e(9),r=e(8),i=e(4),u=e(42),s=e(101).KEY,a=e(10),c=e(30),f=e(21),p=e(20),h=e(1),d=e(35),g=e(36),m=e(102),v=e(103),_=e(3),y=e(7),x=e(11),b=e(28),w=e(19),I=e(43),k=e(104),C=e(105),S=e(6),P=e(13),U=C.f,j=S.f,A=k.f,L=l.Symbol,M=l.JSON,O=M&&M.stringify,F=h("_hidden"),T=h("toPrimitive"),E={}.propertyIsEnumerable,R=c("symbol-registry"),z=c("symbols"),Q=c("op-symbols"),q=Object.prototype,Y="function"==typeof L,Z=l.QObject,D=!Z||!Z.prototype||!Z.prototype.findChild,B=r&&a(function(){return 7!=I(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(n,t,e){var l=U(q,t);l&&delete q[t],j(n,t,e),l&&n!==q&&j(q,t,l)}:j,N=function(n){var t=z[n]=I(L.prototype);return t._k=n,t},H=Y&&"symbol"==typeof L.iterator?function(n){return"symbol"==typeof n}:function(n){return n instanceof L},V=function(n,t,e){return n===q&&V(Q,t,e),_(n),t=b(t,!0),_(e),o(z,t)?(e.enumerable?(o(n,F)&&n[F][t]&&(n[F][t]=!1),e=I(e,{enumerable:w(0,!1)})):(o(n,F)||j(n,F,w(1,{})),n[F][t]=!0),B(n,t,e)):j(n,t,e)},J=function(n,t){_(n);for(var e,l=m(t=x(t)),o=0,r=l.length;r>o;)V(n,e=l[o++],t[e]);return n},G=function(n){var t=E.call(this,n=b(n,!0));return!(this===q&&o(z,n)&&!o(Q,n))&&(!(t||!o(this,n)||!o(z,n)||o(this,F)&&this[F][n])||t)},W=function(n,t){if(n=x(n),t=b(t,!0),n!==q||!o(z,t)||o(Q,t)){var e=U(n,t);return!e||!o(z,t)||o(n,F)&&n[F][t]||(e.enumerable=!0),e}},$=function(n){for(var t,e=A(x(n)),l=[],r=0;e.length>r;)o(z,t=e[r++])||t==F||t==s||l.push(t);return l},X=function(n){for(var t,e=n===q,l=A(e?Q:x(n)),r=[],i=0;l.length>i;)!o(z,t=l[i++])||e&&!o(q,t)||r.push(z[t]);return r};Y||(u((L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var n=p(arguments.length>0?arguments[0]:void 0),t=function(e){this===q&&t.call(Q,e),o(this,F)&&o(this[F],n)&&(this[F][n]=!1),B(this,n,w(1,e))};return r&&D&&B(q,n,{configurable:!0,set:t}),N(n)}).prototype,"toString",function(){return this._k}),C.f=W,S.f=V,e(57).f=k.f=$,e(22).f=G,e(34).f=X,r&&!e(16)&&u(q,"propertyIsEnumerable",G,!0),d.f=function(n){return N(h(n))}),i(i.G+i.W+i.F*!Y,{Symbol:L});for(var K="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nn=0;K.length>nn;)h(K[nn++]);for(var tn=P(h.store),en=0;tn.length>en;)g(tn[en++]);i(i.S+i.F*!Y,"Symbol",{for:function(n){return o(R,n+="")?R[n]:R[n]=L(n)},keyFor:function(n){if(!H(n))throw TypeError(n+" is not a symbol!");for(var t in R)if(R[t]===n)return t},useSetter:function(){D=!0},useSimple:function(){D=!1}}),i(i.S+i.F*!Y,"Object",{create:function(n,t){return void 0===t?I(n):J(I(n),t)},defineProperty:V,defineProperties:J,getOwnPropertyDescriptor:W,getOwnPropertyNames:$,getOwnPropertySymbols:X}),M&&i(i.S+i.F*(!Y||a(function(){var n=L();return"[null]"!=O([n])||"{}"!=O({a:n})||"{}"!=O(Object(n))})),"JSON",{stringify:function(n){for(var t,e,l=[n],o=1;arguments.length>o;)l.push(arguments[o++]);if(e=t=l[1],(y(t)||void 0!==n)&&!H(n))return v(t)||(t=function(n,t){if("function"==typeof e&&(t=e.call(this,n,t)),!H(t))return t}),l[1]=t,O.apply(M,l)}}),L.prototype[T]||e(5)(L.prototype,T,L.prototype.valueOf),f(L,"Symbol"),f(Math,"Math",!0),f(l.JSON,"JSON",!0)},function(n,t,e){var l=e(20)("meta"),o=e(7),r=e(9),i=e(6).f,u=0,s=Object.isExtensible||function(){return!0},a=!e(10)(function(){return s(Object.preventExtensions({}))}),c=function(n){i(n,l,{value:{i:"O"+ ++u,w:{}}})},f=n.exports={KEY:l,NEED:!1,fastKey:function(n,t){if(!o(n))return"symbol"==typeof n?n:("string"==typeof n?"S":"P")+n;if(!r(n,l)){if(!s(n))return"F";if(!t)return"E";c(n)}return n[l].i},getWeak:function(n,t){if(!r(n,l)){if(!s(n))return!0;if(!t)return!1;c(n)}return n[l].w},onFreeze:function(n){return a&&f.NEED&&s(n)&&!r(n,l)&&c(n),n}}},function(n,t,e){var l=e(13),o=e(34),r=e(22);n.exports=function(n){var t=l(n),e=o.f;if(e)for(var i,u=e(n),s=r.f,a=0;u.length>a;)s.call(n,i=u[a++])&&t.push(i);return t}},function(n,t,e){var l=e(14);n.exports=Array.isArray||function(n){return"Array"==l(n)}},function(n,t,e){var l=e(11),o=e(57).f,r={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(n){return i&&"[object Window]"==r.call(n)?function(n){try{return o(n)}catch(n){return i.slice()}}(n):o(l(n))}},function(n,t,e){var l=e(22),o=e(19),r=e(11),i=e(28),u=e(9),s=e(41),a=Object.getOwnPropertyDescriptor;t.f=e(8)?a:function(n,t){if(n=r(n),t=i(t,!0),s)try{return a(n,t)}catch(n){}if(u(n,t))return o(!l.f.call(n,t),n[t])}},function(n,t,e){e(36)("asyncIterator")},function(n,t,e){e(36)("observable")},function(n,t,e){"use strict";function l(n){return n&&n.__esModule?n:{default:n}}t.__esModule=!0,t.StatisticsLogger=void 0;var o=l(e(55)),r=l(e(23)),i=e(15);t.StatisticsLogger=function(){function n(){(0,r.default)(this,n)}return n.prototype.log=function(n,t){var e="";(0,o.default)(n).forEach(function(t){return e+=n[t]+","}),this.send(e,t)},n.prototype.send=function(n,t){var e=(0,i.createXHR)(),l=0;e.open("POST","https://uplog.qbox.me/log/3"),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.setRequestHeader("Authorization","UpToken "+t),e.onreadystatechange=function(){4===e.readyState&&200!==e.status&&++l<=3&&e.send(n)},e.send(n)},n}()}])})}});