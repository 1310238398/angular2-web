<div class="content">
    <div class="components-table-demo-control-bar">
        <form #f="ngForm" nz-form [nzLayout]="'inline'" class="search-form text-center">
            <div nz-row nz-form-item>
                <div nz-form-control>
                    <nz-input style="width: 120px;" [(ngModel)]="searchObj.UserCode" name="UserCode" [nzPlaceHolder]="'学号'"></nz-input>
                </div>
            </div>
            <div nz-row nz-form-item>
                <div nz-form-control>
                    <nz-input style="width: 120px;" [(ngModel)]="searchObj.Name" name="Name" [nzPlaceHolder]="'姓名'"></nz-input>
                </div>
            </div>
            <!-- <div nz-row nz-form-item>
        <div nz-form-control>
          <nz-select style="width: 120px;" (ngModelChange)="onChange(f,1)" [(ngModel)]="searchObj.Campus" [nzPlaceHolder]="'校区'" [nzShowSearch]="true" name="Campus" nzAllowClear>
            <nz-option *ngFor="let option of Campuss" [nzLabel]="option.CampusName" [nzValue]="option.CampusCode">
            </nz-option>
          </nz-select>
        </div>
      </div>-->
            <div nz-row nz-form-item>
                <div nz-form-control>
                    <nz-select style="width: 120px;" [(ngModel)]="searchObj.Academy" [nzPlaceHolder]="'学院'"
                        [nzShowSearch]="true" name="Academy" nzAllowClear>
                        <nz-option *ngFor="let option of Academys" [nzLabel]="option.AcademyName" [nzValue]="option.AcademyCode">
                        </nz-option>
                    </nz-select>
                </div>
            </div>
            <div nz-row nz-form-item>
                <div nz-form-control>
                    <nz-select style="width: 120px;" [(ngModel)]="searchObj.Major" (click)="onSelect('major')"
                        [nzPlaceHolder]="'专业'" [nzShowSearch]="true" name="Major" nzAllowClear>
                        <nz-option *ngFor="let option of Majors" [nzLabel]="option.MajorName" [nzValue]="option.MajorCode">
                        </nz-option>
                    </nz-select>
                </div>
            </div>
            <div nz-row nz-form-item>
                <div nz-form-control>
                    <nz-select style="width: 120px;" [(ngModel)]="searchObj.Grade" (click)="onSelect(3)"
                        [nzPlaceHolder]="'年级'" [nzShowSearch]="true" name="Grade" nzAllowClear>
                        <nz-option *ngFor="let option of Grades" [nzLabel]="option.GradeName" [nzValue]="option.GradeCode">
                        </nz-option>
                    </nz-select>
                </div>
            </div>
            <div nz-row nz-form-item>
                <div nz-form-control>
                    <nz-select style="width: 120px;" [(ngModel)]="searchObj.Class" (click)="onSelect('class')"
                        [nzPlaceHolder]="'班级'" [nzShowSearch]="true" name="Class" nzAllowClear>
                        <nz-option *ngFor="let option of Classs" [nzLabel]="option.ClassName" [nzValue]="option.ClassCode">
                        </nz-option>
                    </nz-select>
                </div>
            </div>
            <div nz-row nz-form-item>
                <div nz-form-control>
                    <nz-select style="width: 120px;" [(ngModel)]="searchObj.StudentStatus" [nzPlaceHolder]="'学生状态'"
                        [nzShowSearch]="true" name="StudentStatus" nzAllowClear>
                        <nz-option *ngFor="let option of StudentStatuss" [nzLabel]="option.ItemName" [nzValue]="option.ItemCode">
                        </nz-option>
                    </nz-select>
                </div>
            </div>
            <div nz-row nz-form-item>
                <!--    <div nz-form-control>
          <nz-select style="width: 120px;" [(ngModel)]="searchObj.UserType" [nzPlaceHolder]="'学生类型'" [nzShowSearch]="true" name="StudentType" nzAllowClear>
            <nz-option *ngFor="let option of StudentTypes" [nzLabel]="option.ItemName" [nzValue]="option.ItemCode">
            </nz-option>
          </nz-select>
        </div>-->
            </div>
            <div nz-row nz-form-item>
                <div nz-col [nzSpan]="24" style="text-align: right;">
                    <button nz-button [disabled]="httpService.loading" [nzType]="'primary'" (click)="onSearch(true)">查询</button>
                    <button nz-button (click)="resetForm(f)">重置</button>
                    <button nz-button (click)="addUser()" [nzType]="'primary'">添加</button>
                </div>
            </div>
        </form>

        <!--<div class="text-right">
  <button nz-button (click)="edit({id:0})" [nzType]="'primary'">添加</button>
</div>-->
    </div>
    <nz-table #nzTable class="simple-table" [nzAjaxData]="dataSet" [nzLoading]="httpService.loading" [(nzTotal)]="total"
        [(nzPageIndex)]="page.Page" [(nzPageSize)]="page.PageSize" [nzBordered]="true" (nzPageIndexChange)="onSearch()">
        <thead nz-thead>
            <tr>
                <th nz-th [nzWidth]="'220px'"><span>操作</span></th>
                <th nz-th [nzWidth]="'150px'"><span>学号</span></th>
                <th nz-th [nzWidth]="'150px'"><span>姓名</span></th>
                <th nz-th><span>校区</span></th>
                <th nz-th><span>学院</span></th>
                <th nz-th><span>专业</span></th>
                <th nz-th [nzWidth]="'50px'"><span>年级</span></th>
                <th nz-th><span>班级</span></th>
                <th nz-th><span>性别</span></th>
                <th nz-th><span>学生类型</span></th>
                <th nz-th><span>学生状态</span></th>
                <!--    <th nz-th><span>邮箱</span></th> -->
            </tr>
        </thead>
        <tbody nz-tbody>
            <tr nz-tbody-tr *ngFor="let data of nzTable.data">
                <td nz-td>
                    <a (click)="editUser(data)">编辑</a>
                    <span nz-table-divider></span>
                    <nz-popconfirm [nzTitle]="'确定要重置密码吗？重置后密码为123456，并给该用户发送短信通知'" (nzOnConfirm)="onReset(data.IntelUserCode)">
                        <nz-tooltip [nzTitle]="'重置密码'">
                            <a nz-tooltip nz-popconfirm>重置</a>
                        </nz-tooltip>
                    </nz-popconfirm>
                    <span nz-table-divider></span>
                    <nz-popconfirm [nzTitle]="'确定要注销账号吗？'" (nzOnConfirm)="onLogout(data.IntelUserCode)">
                        <nz-tooltip [nzTitle]="'注销账号'">
                            <a nz-tooltip nz-popconfirm>注销</a>
                        </nz-tooltip>
                    </nz-popconfirm>
                    <span nz-table-divider *ngIf="data.Purview>0"></span>
                    <nz-tooltip [nzTitle]="'状态修改'" *ngIf="data.Purview>0">
                        <a nz-tooltip (click)="edit(data)">状态修改</a>
                    </nz-tooltip>
                </td>
                <td nz-td>{{data.UserCode}}</td>
                <td nz-td>{{data.Name}}</td>
                <td nz-td>{{data.CampusName}}</td>
                <td nz-td>{{data.AcademyName}}</td>
                <td nz-td>{{data.MajorName}}</td>
                <td nz-td>{{data.GradeName}}</td>
                <td nz-td>{{data.ClassName}}</td>
                <td nz-td>{{data.SexName}}</td>
                <td nz-td>{{data.UserTypeName}}</td>
                <td nz-td>{{data.StudentStatusName}}</td>
                <!--       <td nz-td>{{data.Email}}</td> -->
            </tr>
        </tbody>
    </nz-table>
</div>