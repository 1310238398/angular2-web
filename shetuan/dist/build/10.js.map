{"version":3,"sources":["../../src/pages/indexapprove/indexapprove.module.ts","../../src/pages/indexapprove/indexapprove.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACA;AAchD;IAAA;IAAsC,CAAC;IAA1B,sBAAsB;QAXlC,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,uEAAgB;aACjB;YACD,OAAO,EAAE;gBACP,8DAAe,CAAC,QAAQ,CAAC,uEAAgB,CAAC;aAC3C;YACD,OAAO,EAAE;gBACP,uEAAgB;aACjB;SACF,CAAC;OACW,sBAAsB,CAAI;IAAD,6BAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;AChBO;AACI;AACE;AACM;AAStD;IAoBE,0BAAoB,OAAsB,EAAU,IAAiB;QAAjD,YAAO,GAAP,OAAO,CAAe;QAAU,SAAI,GAAJ,IAAI,CAAa;QAlBrE,YAAO,GAAG,EAAE,CAAC,CAAC,MAAM;QACpB,cAAS,GAAG,KAAK,CAAC,CAAC,MAAM;QACzB,cAAS,GAAG,KAAK,CAAC,CAAC,SAAS;QAC5B,gBAAW,GAAG,EAAE,CAAC,CAAC,QAAQ;QAC1B,gBAAW,GAAG,GAAG,CAAC;QAClB,cAAS,GAAG,SAAS,CAAC;QACtB,cAAS,GAAG,SAAS,CAAC;QAEtB,gBAAW,GAAG,KAAK,CAAC,CAAC,MAAM;QAC3B,cAAS,GAAG,EAAE,CAAC;QAEf,SAAI,GAAW,CAAC,CAAC;QACjB,aAAQ,GAAY,IAAI,CAAC;QACzB,WAAM,GAAW,EAAE,CAAC;QAGpB,cAAS,GAAG,GAAG,CAAC,CAAC,mBAAmB;IAEqC,CAAC;IAE1E,2CAAgB,GAAhB;QACE,SAAS,CAAC,iBAAiB,CAAC;YAC1B,SAAS,EAAE,IAAI;YACf,IAAI,EAAE,OAAO;YACb,IAAI,EAAE,EAAE;YACR,OAAO,EAAE,cAAc,CAAC;YACxB,IAAI,EAAE,cAAc,CAAC;YACrB,OAAO,EAAE,cAAc,CAAC;SACzB,CAAC,CAAC;QACH,SAAS,CAAC,WAAW,CAAC;YACpB,IAAI,EAAE,OAAO;YACb,KAAK,EAAE,MAAM;YACb,IAAI,EAAE,cAAc,CAAC;YACrB,OAAO,EAAE,cAAc,CAAC;SACzB,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC7B,CAAC;IACD,0CAAe,GAAf;QACE,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,aAAa;IACb,wCAAa,GAAb;QAAA,iBAuBC;QAtBC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;YACjB,MAAM,EAAE,iEAAS,CAAC,GAAG,CAAC,QAAQ;YAC9B,MAAM,EAAE,KAAK;YACb,IAAI,EAAE;gBACJ,SAAS,EAAE,aAAa;gBACxB,KAAK,EAAE,IAAI,CAAC,MAAM;gBAClB,OAAO,EAAE,IAAI,CAAC,IAAI;aACnB;SACF,CAAC,CAAC,IAAI,CACL,aAAG;YACD,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBACnB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACpC,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;gBACpD,CAAC;gBACD,KAAI,CAAC,OAAO,GAAG,GAAG,CAAC;gBACnB,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACzB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACxB,CAAC;QACH,CAAC,EACD,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CACxB,CAAC;IACJ,CAAC;IAED,SAAS;IACT,uCAAY,GAAZ;QAAA,iBAuBC;QAtBC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;YACjB,MAAM,EAAE,iEAAS,CAAC,GAAG,CAAC,WAAW;YACjC,MAAM,EAAE,KAAK;YACb,IAAI,EAAE;gBACJ,SAAS,EAAE,aAAa;gBACxB,KAAK,EAAE,IAAI,CAAC,MAAM;gBAClB,OAAO,EAAE,IAAI,CAAC,IAAI;aACnB;SACF,CAAC,CAAC,IAAI,CACL,aAAG;YACD,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBACnB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACpC,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;gBACpD,CAAC;gBACD,KAAI,CAAC,OAAO,GAAG,GAAG,CAAC;gBACnB,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACzB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACxB,CAAC;QACH,CAAC,EACD,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CACxB,CAAC;IACJ,CAAC;IAED,qBAAqB;IACrB,kCAAO,GAAP,UAAQ,GAAG;QAAX,iBAiBC;QAhBC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;YACjB,MAAM,EAAE,iEAAS,CAAC,GAAG,CAAC,YAAY;YAClC,MAAM,EAAE,KAAK;YACb,IAAI,EAAE;gBACJ,gBAAgB,EAAE,GAAG;aACtB;SACF,CAAC,CAAC,IAAI,CAAC,aAAG;YACT,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACpC,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;YACnD,CAAC;YACD,KAAI,CAAC,WAAW,GAAG,GAAG,CAAC;YACvB,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACxB,CAAC,EACC,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CACxB,CAAC;IAEJ,CAAC;IAED,OAAO;IACP,qCAAU,GAAV;QACE,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IACD,OAAO;IACP,qCAAU,GAAV;QACE,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,YAAY,EAAE;IACrB,CAAC;IAED,qCAAU,GAAV,UAAW,cAAc;QAAzB,iBAkDC;QAjDC,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC;QAEvD,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,GAAG,CAAC,CAAC,CAAC;YAC1B,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;gBACjB,MAAM,EAAE,iEAAS,CAAC,GAAG,CAAC,QAAQ;gBAC9B,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE;oBACJ,SAAS,EAAE,aAAa;oBACxB,KAAK,EAAE,IAAI,CAAC,MAAM;oBAClB,OAAO,EAAE,OAAO;iBACjB;aACF,CAAC,CAAC,IAAI,CACL,aAAG;gBACD,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;oBACnB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;oBACrB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACpC,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;oBACnD,CAAC;oBACD,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAC1C,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACxB,CAAC;gBACD,cAAc,CAAC,QAAQ,EAAE,CAAC;YAC5B,CAAC,EACD,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CAAC,CAAC;QAC7B,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,GAAG,CAAC,CAAC,CAAC;YACjC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;gBACjB,MAAM,EAAE,iEAAS,CAAC,GAAG,CAAC,WAAW;gBACjC,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE;oBACJ,SAAS,EAAE,aAAa;oBACxB,KAAK,EAAE,IAAI,CAAC,MAAM;oBAClB,OAAO,EAAE,OAAO;iBACjB;aACF,CAAC,CAAC,IAAI,CACL,aAAG;gBACD,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;oBACnB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;oBACrB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACpC,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;oBACnD,CAAC;oBACD,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAC1C,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACxB,CAAC;gBACD,cAAc,CAAC,QAAQ,EAAE,CAAC;YAC5B,CAAC,EACD,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CAAC,CAAC;QAC7B,CAAC;IACH,CAAC;IAED,SAAS;IACT,uCAAY,GAAZ,UAAa,GAAG;QACd,EAAE,CAAC,CAAC,GAAG,CAAC,SAAS,IAAI,6BAA6B,IAAI,GAAG,CAAC,SAAS,IAAI,4CAA4C,IAAI,GAAG,CAAC,SAAS,IAAI,4BAA4B,IAAI,GAAG,CAAC,SAAS,IAAI,8CAA8C,IAAI,GAAG,CAAC,SAAS,IAAI,iCAAkC,CAAC,CAAC,CAAC;YAC/R,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,qBAAqB,EAAE,EAAE,QAAQ,EAAE,GAAG,EAAE,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;QACzF,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,SAAS,IAAI,eAAe,CAAC,CAAC,CAAC;YAC5C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,uBAAuB,EAAE,EAAE,QAAQ,EAAE,GAAG,EAAE,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;QAC3F,CAAC;QAAA,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,SAAS,IAAI,4CAA4C,CAAC,CAAC,CAAC;YACxE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,4BAA4B,EAAE,EAAE,QAAQ,EAAE,GAAG,EAAE,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;QAChG,CAAC;QAAA,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,SAAS,IAAI,sCAAsC,CAAC,CAAC,CAAC;YAClE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,0BAA0B,EAAE,EAAE,QAAQ,EAAE,GAAG,EAAE,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;QAC9F,CAAC;IAEH,CAAC;IAED,OAAO;IACP,mCAAQ,GAAR;QACE,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACzB,CAAC;IA1MU,gBAAgB;QAJ5B,gEAAS,CAAC;YACT,QAAQ,EAAE,mBAAmB;WACG;SACjC,CAAC;yBAqBqE;OApB1D,gBAAgB,CA8M5B;IAAD,CAAC;AAAA;SA9MY,gBAAgB,e","file":"10.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport {IndexApprovePage} from \"./indexapprove\";\n\n\n@NgModule({\n  declarations: [\n    IndexApprovePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(IndexApprovePage),\n  ],\n  exports: [\n    IndexApprovePage\n  ]\n})\nexport class IndexApprovePageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/indexapprove/indexapprove.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController } from \"ionic-angular\";\nimport { ServelUrl } from \"../../app/ServelUrl\";\nimport { HttpService } from \"../../http/http.Service\";\n\ndeclare var antlinker;\n\n@IonicPage()\n@Component({\n  selector: 'page-indexapprove',\n  templateUrl: 'indexapprove.html'\n})\nexport class IndexApprovePage {\n\n  dataSet = []; //列表数据\n  hiddenBox = false; //进程弹框\n  haveClass = false; //页面是否有数据\n  dataPrecess = []; //进程数据列表\n  approvalNum = '1';\n  waitShell = 'yes-css';\n  overShell = 'not-css';\n\n  notPassText = false; //拒绝原因\n  notRemark = '';\n\n  Page: number = 0;\n  moreData: boolean = true;\n  PageNo: number = 20;\n  loading: any;\n\n  appStatus = '1'; //审批状态  1待审批  2 已审批\n\n  constructor(private navCtrl: NavController, private http: HttpService) { }\n\n  ionViewWillEnter() {\n    antlinker.configTitleButton({\n      showClose: true,\n      type: \"label\",\n      text: \"\",\n      success: function () { },\n      fail: function () { },\n      trigger: function () { }\n    });\n    antlinker.configTitle({\n      type: \"label\",\n      title: \"校园申请\",\n      fail: function () { },\n      success: function () { }\n    });\n    this.waitShell = 'yes-css';\n    this.overShell = 'not-css';\n  }\n  ionViewDidEnter() {\n    this.loadIndexJson();\n  }\n\n  //获取数据  待审批  \n  loadIndexJson() {\n    this.http.postFLOW({\n      Router: ServelUrl.Url.flowtodo,\n      Method: 'GET',\n      Body: {\n        type_code: 'XYSQ,XSXXTB',\n        count: this.PageNo,\n        last_id: this.Page\n      }\n    }).then(\n      res => {\n        if (res.length > 0) {\n          for (let i = 0; i < res.length; i++) {\n            res[i].input_data = JSON.parse(res[i].input_data);\n          }\n          this.dataSet = res;\n          this.haveClass = false;\n        } else {\n          this.haveClass = true;\n        }\n      },\n      err => console.log(err)\n    );\n  }\n\n  //已审批数据  \n  loadOverJson() {\n    this.http.postFLOW({\n      Router: ServelUrl.Url.flowshandle,\n      Method: 'GET',\n      Body: {\n        type_code: 'XYSQ,XSXXTB',\n        count: this.PageNo,\n        last_id: this.Page\n      }\n    }).then(\n      res => {\n        if (res.length > 0) {\n          for (let i = 0; i < res.length; i++) {\n            res[i].input_data = JSON.parse(res[i].input_data);\n          }\n          this.dataSet = res;\n          this.haveClass = false;\n        } else {\n          this.haveClass = true;\n        }\n      },\n      err => console.log(err)\n    );\n  }\n\n  //打开日期框 获取审批进程 --工作流 \n  openBox(obj) {\n    this.http.postFLOW({\n      Router: ServelUrl.Url.flowshistory,\n      Method: 'GET',\n      Body: {\n        flow_instance_id: obj\n      }\n    }).then(res => {\n      for (let i = 1; i < res.length; i++) {\n        res[i].input_data = JSON.parse(res[i].input_data)\n      }\n      this.dataPrecess = res;\n      this.hiddenBox = true;\n    },\n      err => console.log(err)\n    );\n    \n  }\n\n  //待审批按钮\n  changeWait() {\n    this.appStatus = '1';\n    this.waitShell = 'yes-css';\n    this.overShell = 'not-css';\n    this.moreData = true;\n    this.loadIndexJson();\n  }\n  //已审批按钮\n  changeOver() {\n    this.appStatus = '2';\n    this.waitShell = 'not-css';\n    this.overShell = 'yes-css';\n    this.moreData = true;\n    this.loadOverJson()\n  }\n\n  doInfinite(infiniteScroll) {\n    var last_id = this.dataSet[this.dataSet.length - 1].id;\n\n    if (this.appStatus == '1') {\n      this.http.postFLOW({\n        Router: ServelUrl.Url.flowtodo,\n        Method: 'GET',\n        Body: {\n          type_code: 'XYSQ,XSXXTB',\n          count: this.PageNo,\n          last_id: last_id\n        }\n      }).then(\n        res => {\n          if (res.length > 0) {\n            this.moreData = true;\n            for (let i = 0; i < res.length; i++) {\n              res[i].input_data = JSON.parse(res[i].input_data)\n            }\n            this.dataSet = this.dataSet.concat(res);\n          } else {\n            this.moreData = false;\n          }\n          infiniteScroll.complete();\n        },\n        err => console.log(err));\n    } else if (this.appStatus == '2') {\n      this.http.postFLOW({\n        Router: ServelUrl.Url.flowshandle,\n        Method: 'GET',\n        Body: {\n          type_code: 'XYSQ,XSXXTB',\n          count: this.PageNo,\n          last_id: last_id\n        }\n      }).then(\n        res => {\n          if (res.length > 0) {\n            this.moreData = true;\n            for (let i = 0; i < res.length; i++) {\n              res[i].input_data = JSON.parse(res[i].input_data)\n            }\n            this.dataSet = this.dataSet.concat(res);\n          } else {\n            this.moreData = false;\n          }\n          infiniteScroll.complete();\n        },\n        err => console.log(err));\n    }\n  }\n\n  //进入申请详情页\n  NavigationTo(obj) {\n    if (obj.flow_code == 'Process_college_good_member' || obj.flow_code == 'Process_college_class_advanced_class_group' || obj.flow_code == 'Process_college_three_good' || obj.flow_code == 'Process_excellent_cadre_at_the_college_level' || obj.flow_code == 'Process_excellent_student_cadre' ) {\n      this.navCtrl.push('ThreeGoodDetailPage', { dataPass: obj, appStatus: this.appStatus });\n    } else if (obj.flow_code == 'Process_Prize') {\n      this.navCtrl.push('AwardReportDetailPage', { dataPass: obj, appStatus: this.appStatus });\n    }else if (obj.flow_code == 'Process_assessment_plus_information_report') {\n      this.navCtrl.push('QualityUpApproveDetailPage', { dataPass: obj, appStatus: this.appStatus });\n    }else if (obj.flow_code == 'Process_New_Stu_Information_Approval') {\n      this.navCtrl.push('NewStudentInfoDetailPage', { dataPass: obj, appStatus: this.appStatus });\n    }\n\n  }\n\n  //关闭日期框\n  closeTab() {\n    this.hiddenBox = false;\n  }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/indexapprove/indexapprove.ts"],"sourceRoot":""}