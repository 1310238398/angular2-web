{"version":3,"sources":["../../src/pages/approve_box/newstudentinfo_detail/newstudentinfodetail.module.ts","../../src/pages/approve_box/newstudentinfo_detail/newstudentinfodetail.ts"],"names":[],"mappings":"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","file":"16.js","sourcesContent":["import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NewStudentInfoDetailPage } from \"./newstudentinfodetail\";\n\n\n@NgModule({\n  declarations: [\n    NewStudentInfoDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(NewStudentInfoDetailPage),\n  ],\n  entryComponents: [\n    NewStudentInfoDetailPage,\n  ],\n  schemas: [\n    CUSTOM_ELEMENTS_SCHEMA\n  ]\n\n})\nexport class NewStudentInfoDetailPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/approve_box/newstudentinfo_detail/newstudentinfodetail.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from \"ionic-angular\";\nimport { ServelUrl } from \"../../../app/ServelUrl\";\nimport { HttpService } from \"../../../http/http.Service\";\nimport { HelpUtils } from \"../../../app/utils/HelpUtils\";\n\ndeclare var antlinker;\n\n@IonicPage()\n@Component({\n  selector: 'newstudentinfodetail',\n  templateUrl: 'newstudentinfodetail.html'\n})\nexport class NewStudentInfoDetailPage {\n\n  forbidBt = true; //禁用所有input框\n  numdisb = false;  //审批通过按钮\n  Headimgurl = '';  //  头像链接\n\n  dataObj = {\n    flow_code: '',\n    flow_id: '',\n    flow_name: '',\n    id: 0,\n    input_data: {},\n    is_back: false,\n    launch_time: '',\n    launcher: '',\n    launcher_name: '',\n    node_instance_id: '',\n    out_data: '',\n    processor: '',\n    processor_name: '',\n    processor_time: '',\n    record_id: '',\n    status: 0,\n    status_text: '',\n    title: '',\n  }; //整体数据\n\n  FamilyAddress = {\n    image: '',  //  头像代码\n    qq: '',   //  QQ\n    email: '',     //  邮箱\n    wechat: '',    // 微信\n    hobby: '',     // 爱好特长\n    StudentAreaName: '',   //家庭地址\n    familyaddress: '',   //家庭地址代码\n    detailaddress: '',   //详细地址\n    postalcode: '',   //邮编\n    homephone: '',   //家庭电话\n    faith: '',   //宗教信仰\n    bank: '',   //开户行\n    bankcard: '',   //银行卡号\n    offersrange: '',    //优惠区间\n    firstguardianname: '',   //监护人一姓名\n    firstguardiantitle: '',   //监护人一称谓代码\n    firstguardianemployer: '',   //监护人一工作单位\n    firstguardianposition: '',   //监护人一职务\n    firstguardiancontact: '',   //监护人一联系方式\n    secondguardianname: '',   //监护人二姓名\n    secondguardiantitle: '',   //监护人二称谓代码\n    secondguardianemployer: '',   //监护人二工作单位\n    secondguardianposition: '',   //监护人二职务\n    secondguardiancontact: '',   //监护人二联系方式\n    action: '',\n    title: '',\n    timestart: '',\n    remarktxt: '',\n    statustxt: '',\n    status: '',\n\n  };\n\n  appStatus = '1';//审批状态  1待审批  2 已审批\n\n  constructor(private navCtrl: NavController, private http: HttpService, private HelpUtils: HelpUtils, public navParams: NavParams) { }\n\n  ionViewWillEnter() {\n    antlinker.configTitleButton({\n      showClose: true,\n      type: \"label\",\n      text: \"\",\n      success: function () { },\n      fail: function () { },\n      trigger: function () { }\n    });\n    this.dataObj = this.navParams.get('dataPass');\n    this.appStatus = this.navParams.get('appStatus');\n    this.FamilyAddress = this.navParams.get('dataPass').input_data;\n    console.log(this.dataObj)\n    console.log(this.appStatus)\n    this.loadGetLevelList();  //获取监护人称谓\n    this.getImgPath();  //该显示的表单字段\n  }\n\n  \n  //审批提交\n  passTabBtn() {\n    var fromdata = this.dataObj.input_data;\n    fromdata['action'] = \"counsellor\";\n    fromdata['statustxt'] = \"辅导员审批已通过\";\n    fromdata['status'] = \"2\";\n    fromdata['istrue'] = \"true\";\n\n    this.numdisb = true;\n\n    this.http.postFLOW({\n      Router: ServelUrl.Url.starthandle,\n      Method: 'POST',\n      Body: {\n        record_id: this.dataObj.node_instance_id,\n        form_data: JSON.stringify(fromdata)\n      }\n    }).then(res => {\n      if (res == 'ok') {\n        this.HelpUtils.toastPop('审批成功');\n        const that = this;\n        setTimeout(function () {\n          that.navCtrl.push('IndexApprovePage');\n          that.numdisb = false;\n        }, '1000');\n      } else {\n        console.log(res);\n        this.numdisb = false;\n      }\n    },\n      err => console.log(err)\n    );\n  }\n\n  //跳转到拒绝原因页\n  notpassTab() {\n    this.navCtrl.push('NotPassReasonPage', { dataPass: this.dataObj, appStatus: this.appStatus })\n  }\n\n  //获取监护人称谓\n  loadGetLevelList() {\n    this.http.postJSON({\n      Router: ServelUrl.Url.bankyquery,\n      Method: 'POST',\n      Body: {\n        CodeType: \"MemberType\"\n      }\n    }).then(res => {\n      if (!res.FeedbackCode) {\n\n        for (let i = 0; i < res.Data.length; i++) {\n          if(this.FamilyAddress.firstguardiantitle == res.Data[i].Code){\n            this.FamilyAddress['firstguardiantitleName'] = res.Data[i].CodeName\n          }\n          if(this.FamilyAddress.secondguardiantitle == res.Data[i].Code){\n            this.FamilyAddress['secondguardiantitleName'] = res.Data[i].CodeName\n          }\n        }\n      } else {\n        console.log(res.FeedbackText);\n      }\n    },\n      err => console.log(err)\n    );\n  }\n  //获取头像\n  getImgPath() {\n    this.http.postJSON({\n      Router: ServelUrl.Url.GetAvatarAddress,\n      Method: 'POST',\n      Body: {\n        avatar: this.FamilyAddress.image\n      }\n    }).then(res => {\n      if (!res.FeedbackCode) {\n        this.Headimgurl = res.Data.url;\n      } else {\n        this.HelpUtils.toastPop(res.FeedbackText);\n      }\n    },\n      err => console.log(err)\n    );\n  }\n\n\n\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/approve_box/newstudentinfo_detail/newstudentinfodetail.ts"],"sourceRoot":""}