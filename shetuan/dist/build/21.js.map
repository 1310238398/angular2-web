{"version":3,"sources":["../../src/pages/apply_box/personalapply_wrap/personalapply_creat/personalapply_creat.module.ts","../../src/pages/apply_box/personalapply_wrap/personalapply_creat/personalapply_creat.ts"],"names":[],"mappings":"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","file":"21.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PersonalApplyCreatPage } from './personalapply_creat';\n\n\n@NgModule({\n  declarations: [\n    PersonalApplyCreatPage\n  ],\n  imports: [\n    IonicPageModule.forChild(PersonalApplyCreatPage),\n  ],\n  entryComponents: [\n    PersonalApplyCreatPage\n  ],\n})\nexport class PersonalApplyCreatPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/apply_box/personalapply_wrap/personalapply_creat/personalapply_creat.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { ServelUrl } from \"../../../../app/ServelUrl\";\nimport { HttpService } from \"../../../../http/http.Service\";\nimport { HelpUtils } from \"../../../../app/utils/HelpUtils\";\n\ndeclare var antlinker;\n@IonicPage()\n@Component({\n  selector: 'personalapply_creat',\n  templateUrl: 'personalapply_creat.html',\n})\nexport class PersonalApplyCreatPage {\n\n  values = 3000;\n  numdisb = true;\n  filetext = ''; //输入内容\n  item = {\n    code: '',\n    memo: '',\n    name: '',\n    record_id: ''\n  };\n\n  timeNow = this.nowDay();\n\n  StudentInfo = {}\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private http: HttpService, private HelpUtils: HelpUtils) { }\n\n  ionViewWillEnter() {\n    antlinker.configTitleButton({\n      showClose: true,\n      type: \"label\",\n      text: \"\",\n      success: function () { },\n      fail: function () { },\n      trigger: function () { }\n    });\n    antlinker.configTitle({\n      type: \"label\",\n      title: \"校园申请\",\n      fail: function () { },\n      success: function () { }\n    });\n    this.item = this.navParams.get('item');\n    console.log(this.item)\n  }\n\n  //初始化加载\n  ionViewDidEnter() {\n    this.loadStudentInfo();  //获取个人信息\n  }\n\n  //获取个人信息\n  loadStudentInfo() {\n    this.http.postJSON({\n      Router: ServelUrl.Url.GetStudentInfo,\n      Method: 'POST',\n      Body: {\n        uid: '',\n      }\n    }).then(res => {\n      if (!res.FeedbackCode) {\n        this.StudentInfo = res.Data\n      } else {\n        this.HelpUtils.toastPopTop(res.FeedbackText);\n      }\n    },\n      err => console.log(err)\n    );\n  }\n\n  //提交申请\n  setcokie() {\n    var formData = {\n      action: \"studentApply\",\n      title: this.item.name,\n      filetext: this.filetext,\n      timestart: this.timeNow,\n      statustxt: '辅导员审批进行中',\n      status: '1',\n    }\n\n    var assignObj = Object.assign(formData,this.StudentInfo);\n\n    this.numdisb = true;\n\n    this.http.postFLOW({\n      Router: ServelUrl.Url.launch,\n      Method: 'POST',\n      Body: {\n        flow_id: '',\n        flow_code: this.item.code,\n        form_data: JSON.stringify(assignObj)\n      }\n    }).then(\n      comments => {\n        if (comments == 'ok') {\n          this.HelpUtils.toastPopTop('提交成功');\n          const that = this;\n          setTimeout(function () {\n            that.navCtrl.push('IndexApplyPage');\n            this.numdisb = false;\n          }, '1000');\n        } else {\n          this.HelpUtils.toastPopTop(comments.FeedbackText);\n        }\n      });\n  }\n\n\n  //备注框字数变化\n  txtChange(value: string) {\n    var valueTxt = value.trim();\n    this.values = 3000 - valueTxt.length;\n    if (this.values != 3000) {\n      this.numdisb = false;\n    } else {\n      this.numdisb = true;\n    }\n  }\n\n  //获取日期\n  nowDay() {\n    const Dates = new Date();\n    const year: number = Dates.getFullYear();\n    const month: any = (Dates.getMonth() + 1) < 10 ? '0' + (Dates.getMonth() + 1) : (Dates.getMonth() + 1);\n    const day: any = Dates.getDate() < 10 ? '0' + Dates.getDate() : Dates.getDate();\n    return year + '-' + month + '-' + day\n  }\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/apply_box/personalapply_wrap/personalapply_creat/personalapply_creat.ts"],"sourceRoot":""}